


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Python warnings system &#8212; Astropy v5.2.dev104+gcdd6a1f81.d20220509</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-rendered-html.css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <script type="text/javascript" src="_static/copybutton.js"></script>
    <link rel="shortcut icon" href="_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Astropy Core Package Utilities (astropy.utils)" href="utils/index.html" />
    <link rel="prev" title="LoggingError" href="api/astropy.logger.LoggingError.html" />
  
  <meta name="robots" content="noindex, nofollow">
  
  
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>


  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="index.html"><span id="logotext1">astro</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="genindex.html">Index</a></li>
    <li><a title="Module Index" href="py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="utils/index.html" title="Astropy Core Package Utilities (astropy.utils)">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="api/astropy.logger.LoggingError.html" title="LoggingError">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="index.html">Astropy v5.2.dev104+gcdd6a1f81.d20220509</a>
	 &#187;
      </li>
      
      <li>Python warnings system</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="python-warnings-system">
<span id="python-warnings"></span><h1>Python warnings system<a class="headerlink" href="#python-warnings-system" title="Permalink to this headline">¶</a></h1>
<p>Astropy uses the Python <a class="reference external" href="https://docs.python.org/3/library/warnings.html#module-warnings" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">warnings</span></code></a> module to issue warning messages.  The
details of using the warnings module are general to Python, and apply to any
Python software that uses this system.  The user can suppress the warnings
using the python command line argument <code class="docutils literal notranslate"><span class="pre">-W&quot;ignore&quot;</span></code> when starting an
interactive python session.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python -W&quot;ignore&quot;
</pre></div>
</div>
<p>The user may also use the command line argument when running a python script as
follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python -W&quot;ignore&quot; myscript.py
</pre></div>
</div>
<p>It is also possible to suppress warnings from within a python script.  For
instance, the warnings issued from a single call to the
<a class="reference internal" href="io/fits/api/files.html#astropy.io.fits.writeto" title="astropy.io.fits.writeto"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.io.fits.writeto</span></code></a> function may be suppressed from within a Python
script using the <a class="reference external" href="https://docs.python.org/3/library/warnings.html#warnings.filterwarnings" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">warnings.filterwarnings</span></code></a> function as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.io</span> <span class="kn">import</span> <span class="n">fits</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">UserWarning</span><span class="p">,</span> <span class="n">append</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fits</span><span class="o">.</span><span class="n">writeto</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>An equivalent way to insert an entry into the list of warning filter specifications
for simple call <a class="reference external" href="https://docs.python.org/3/library/warnings.html#warnings.simplefilter" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">warnings.simplefilter</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">,</span> <span class="ne">UserWarning</span><span class="p">)</span>
</pre></div>
</div>
<p>Astropy includes its own warning classes,
<a class="reference internal" href="api/astropy.utils.exceptions.AstropyWarning.html#astropy.utils.exceptions.AstropyWarning" title="astropy.utils.exceptions.AstropyWarning"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AstropyWarning</span></code></a> and
<a class="reference internal" href="api/astropy.utils.exceptions.AstropyUserWarning.html#astropy.utils.exceptions.AstropyUserWarning" title="astropy.utils.exceptions.AstropyUserWarning"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AstropyUserWarning</span></code></a>.  All warnings from Astropy are
based on these warning classes (see below for the distinction between them). One
can thus ignore all warnings from Astropy (while still allowing through
warnings from other libraries like Numpy) by using something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.utils.exceptions</span> <span class="kn">import</span> <span class="n">AstropyWarning</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="n">AstropyWarning</span><span class="p">)</span>
</pre></div>
</div>
<p>Warning filters may also be modified just within a certain context using the
<a class="reference external" href="https://docs.python.org/3/library/warnings.html#warnings.catch_warnings" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">warnings.catch_warnings</span></code></a> context manager:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">,</span> <span class="n">AstropyWarning</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">fits</span><span class="o">.</span><span class="n">writeto</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>As mentioned above, there are actually <em>two</em> base classes for Astropy warnings.
The main distinction is that <a class="reference internal" href="api/astropy.utils.exceptions.AstropyUserWarning.html#astropy.utils.exceptions.AstropyUserWarning" title="astropy.utils.exceptions.AstropyUserWarning"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AstropyUserWarning</span></code></a> is
for warnings that are <em>intended</em> for typical users (e.g. “Warning: Ambiguous
unit”, something that might be because of improper input).  In contrast,
<a class="reference internal" href="api/astropy.utils.exceptions.AstropyWarning.html#astropy.utils.exceptions.AstropyWarning" title="astropy.utils.exceptions.AstropyWarning"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AstropyWarning</span></code></a> warnings that are <em>not</em>
<a class="reference internal" href="api/astropy.utils.exceptions.AstropyUserWarning.html#astropy.utils.exceptions.AstropyUserWarning" title="astropy.utils.exceptions.AstropyUserWarning"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AstropyUserWarning</span></code></a> may be for lower-level warnings
more useful for developers writing code that <em>uses</em> Astropy (e.g., the
deprecation warnings discussed below).  So if you’re a user that just wants to
silence everything, the code above will suffice, but if you are a developer and
want to hide development-related warnings from your users, you may wish to still
allow through <a class="reference internal" href="api/astropy.utils.exceptions.AstropyUserWarning.html#astropy.utils.exceptions.AstropyUserWarning" title="astropy.utils.exceptions.AstropyUserWarning"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AstropyUserWarning</span></code></a>.</p>
<p>Astropy also issues warnings when deprecated API features are used.  If you
wish to <em>squelch</em> deprecation warnings, you can start Python with
<code class="docutils literal notranslate"><span class="pre">-Wi::Deprecation</span></code>.  This sets all deprecation warnings to ignored.  There is
also an Astropy-specific <a class="reference internal" href="api/astropy.utils.exceptions.AstropyDeprecationWarning.html#astropy.utils.exceptions.AstropyDeprecationWarning" title="astropy.utils.exceptions.AstropyDeprecationWarning"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AstropyDeprecationWarning</span></code></a>
which can be used to disable deprecation warnings from Astropy only.</p>
<p>See <a class="reference external" href="https://docs.python.org/3/using/cmdline.html#cmdoption-W">the CPython documentation</a> for more
information on the -W argument.</p>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">Python warnings system</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="_sources/warnings.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2011–2022, The Astropy Developers.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 3.5.4. &nbsp;
    Last built 09 May 2022. <br/>
  </p>
</footer>
  </body>
</html>