


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Magnitudes and Other Logarithmic Units &#8212; Astropy v5.2.dev96+g04a0cf8bb</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Structured Units" href="structured_units.html" />
    <link rel="prev" title="Decomposing and Composing Units" href="decomposing_and_composing.html" />
  
  <meta name="robots" content="noindex, nofollow">
  
  
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>


  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">astro</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="structured_units.html" title="Structured Units">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="decomposing_and_composing.html" title="Decomposing and Composing Units">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">Astropy v5.2.dev96+g04a0cf8bb</a>
	 &#187;
      </li>
      <li><a href="index.html" accesskey="U">Units and Quantities (<code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.units</span></code>)</a> &#187;</li>
      
      <li>Magnitudes and Other Logarithmic Units</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="magnitudes-and-other-logarithmic-units">
<span id="logarithmic-units"></span><h1>Magnitudes and Other Logarithmic Units<a class="headerlink" href="#magnitudes-and-other-logarithmic-units" title="Permalink to this headline">¶</a></h1>
<p>Magnitudes and logarithmic units such as <code class="docutils literal notranslate"><span class="pre">dex</span></code> and <code class="docutils literal notranslate"><span class="pre">dB</span></code> are used as the
logarithm of values relative to some reference value. Quantities with such
units are supported in <code class="docutils literal notranslate"><span class="pre">astropy</span></code> via the <a class="reference internal" href="../api/astropy.units.Magnitude.html#astropy.units.Magnitude" title="astropy.units.Magnitude"><code class="xref py py-class docutils literal notranslate"><span class="pre">Magnitude</span></code></a>,
<a class="reference internal" href="../api/astropy.units.Dex.html#astropy.units.Dex" title="astropy.units.Dex"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dex</span></code></a>, and <a class="reference internal" href="../api/astropy.units.Decibel.html#astropy.units.Decibel" title="astropy.units.Decibel"><code class="xref py py-class docutils literal notranslate"><span class="pre">Decibel</span></code></a> classes.</p>
<div class="section" id="creating-logarithmic-quantities">
<h2>Creating Logarithmic Quantities<a class="headerlink" href="#creating-logarithmic-quantities" title="Permalink to this headline">¶</a></h2>
<p>You can create logarithmic quantities either directly or by multiplication with
a logarithmic unit.</p>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<p>To create a logarithmic quantity:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">astropy.units</span> <span class="k">as</span> <span class="nn">u</span><span class="o">,</span> <span class="nn">astropy.constants</span> <span class="k">as</span> <span class="nn">c</span><span class="o">,</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">Magnitude</span><span class="p">(</span><span class="o">-</span><span class="mf">10.</span><span class="p">)</span>  
<span class="go">&lt;Magnitude -10. mag&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">Magnitude</span><span class="p">(</span><span class="mi">10</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">ct</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>  
<span class="go">&lt;Magnitude -2.5 mag(ct / s)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">Magnitude</span><span class="p">(</span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span> <span class="s2">&quot;mag(ct/s)&quot;</span><span class="p">)</span>  
<span class="go">&lt;Magnitude -2.5 mag(ct / s)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">-</span><span class="mf">2.5</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">mag</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">ct</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>  
<span class="go">&lt;Magnitude -2.5 mag(ct / s)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">Dex</span><span class="p">((</span><span class="n">c</span><span class="o">.</span><span class="n">G</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">M_sun</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">R_sun</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">cgs</span><span class="p">)</span>  
<span class="go">&lt;Dex 4.438067627303133 dex(cm / s2)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">2.</span><span class="p">,</span> <span class="mf">5.</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">Unit</span><span class="p">(</span><span class="s2">&quot;dex(cm/s2)&quot;</span><span class="p">)</span>  
<span class="go">&lt;Dex [2. , 2.5, 3. , 3.5, 4. , 4.5, 5. ] dex(cm / s2)&gt;</span>
</pre></div>
</div>
<p>Above, we make use of the fact that the units <code class="docutils literal notranslate"><span class="pre">mag</span></code>, <code class="docutils literal notranslate"><span class="pre">dex</span></code>, and
<code class="docutils literal notranslate"><span class="pre">dB</span></code> are special in that, when used as functions, they return a
<a class="reference internal" href="../api/astropy.units.function.logarithmic.LogUnit.html#astropy.units.function.logarithmic.LogUnit" title="astropy.units.function.logarithmic.LogUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">LogUnit</span></code></a> instance
(<a class="reference internal" href="../api/astropy.units.function.logarithmic.MagUnit.html#astropy.units.function.logarithmic.MagUnit" title="astropy.units.function.logarithmic.MagUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">MagUnit</span></code></a>,
<a class="reference internal" href="../api/astropy.units.function.logarithmic.DexUnit.html#astropy.units.function.logarithmic.DexUnit" title="astropy.units.function.logarithmic.DexUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">DexUnit</span></code></a>, and
<a class="reference internal" href="../api/astropy.units.function.logarithmic.DecibelUnit.html#astropy.units.function.logarithmic.DecibelUnit" title="astropy.units.function.logarithmic.DecibelUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">DecibelUnit</span></code></a>,
respectively). The same happens as required when strings are parsed
by <a class="reference internal" href="../api/astropy.units.Unit.html#astropy.units.Unit" title="astropy.units.Unit"><code class="xref py py-class docutils literal notranslate"><span class="pre">Unit</span></code></a>.</p>
<p>As for normal <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> objects, you can access the value with the
<a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity.value" title="astropy.units.Quantity.value"><code class="xref py py-obj docutils literal notranslate"><span class="pre">value</span></code></a> attribute. In addition, you can convert to a
<a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> with the physical unit using the
<a class="reference internal" href="../api/astropy.units.function.FunctionQuantity.html#astropy.units.function.FunctionQuantity.physical" title="astropy.units.function.FunctionQuantity.physical"><code class="xref py py-obj docutils literal notranslate"><span class="pre">physical</span></code></a> attribute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">logg</span> <span class="o">=</span> <span class="mf">5.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">dex</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logg</span><span class="o">.</span><span class="n">value</span>
<span class="go">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logg</span><span class="o">.</span><span class="n">physical</span>  
<span class="go">&lt;Quantity 100000. cm / s2&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="converting-to-different-units">
<h2>Converting to Different Units<a class="headerlink" href="#converting-to-different-units" title="Permalink to this headline">¶</a></h2>
<p>Like <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> objects, logarithmic quantities can be converted to different
units, be it another logarithmic unit or a physical one.</p>
<div class="section" id="id1">
<h3>Example<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>To convert a logarithmic quantity to a different unit:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">logg</span> <span class="o">=</span> <span class="mf">5.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">dex</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logg</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>  
<span class="go">&lt;Quantity 1000. m / s2&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logg</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s1">&#39;dex(m/s2)&#39;</span><span class="p">)</span>  
<span class="go">&lt;Dex 3. dex(m / s2)&gt;</span>
</pre></div>
</div>
<p>For convenience, the <a class="reference internal" href="../api/astropy.units.function.FunctionQuantity.html#astropy.units.function.FunctionQuantity.si" title="astropy.units.function.FunctionQuantity.si"><code class="xref py py-attr docutils literal notranslate"><span class="pre">si</span></code></a> and
<a class="reference internal" href="../api/astropy.units.function.FunctionQuantity.html#astropy.units.function.FunctionQuantity.cgs" title="astropy.units.function.FunctionQuantity.cgs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">cgs</span></code></a> attributes can be used to
convert the <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> to base <a class="reference external" href="https://www.bipm.org/documents/20126/41483022/SI-Brochure-9-EN.pdf">SI</a> or <a class="reference external" href="https://en.wikipedia.org/wiki/Centimetre-gram-second_system_of_units">CGS</a>
units:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">logg</span><span class="o">.</span><span class="n">si</span>  
<span class="go">&lt;Dex 3. dex(m / s2)&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="arithmetic-and-photometric-applications">
<h2>Arithmetic and Photometric Applications<a class="headerlink" href="#arithmetic-and-photometric-applications" title="Permalink to this headline">¶</a></h2>
<p>Addition and subtraction work as expected for logarithmic quantities,
multiplying and dividing the physical units as appropriate. It may be best
seen through an example of a photometric reduction.</p>
<div class="section" id="id2">
<h3>Example<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>First, calculate instrumental magnitudes assuming some count rates for three
objects:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tint</span> <span class="o">=</span> <span class="mf">1000.</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cr_b</span> <span class="o">=</span> <span class="p">([</span><span class="mf">3000.</span><span class="p">,</span> <span class="mf">100.</span><span class="p">,</span> <span class="mf">15.</span><span class="p">]</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">ct</span><span class="p">)</span> <span class="o">/</span> <span class="n">tint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cr_v</span> <span class="o">=</span> <span class="p">([</span><span class="mf">4000.</span><span class="p">,</span> <span class="mf">90.</span><span class="p">,</span> <span class="mf">25.</span><span class="p">]</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">ct</span><span class="p">)</span> <span class="o">/</span> <span class="n">tint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b_i</span><span class="p">,</span> <span class="n">v_i</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">Magnitude</span><span class="p">(</span><span class="n">cr_b</span><span class="p">),</span> <span class="n">u</span><span class="o">.</span><span class="n">Magnitude</span><span class="p">(</span><span class="n">cr_v</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b_i</span><span class="p">,</span> <span class="n">v_i</span>  
<span class="go">(&lt;Magnitude [-1.19280314,  2.5       ,  4.55977185] mag(ct / s)&gt;,</span>
<span class="go"> &lt;Magnitude [-1.50514998,  2.61439373,  4.00514998] mag(ct / s)&gt;)</span>
</pre></div>
</div>
<p>Then, the instrumental B-V color is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b_i</span> <span class="o">-</span> <span class="n">v_i</span>  
<span class="go">&lt;Magnitude [ 0.31234684, -0.11439373,  0.55462187] mag&gt;</span>
</pre></div>
</div>
<p>Note that the physical unit has become dimensionless. The following step might
be used to correct for atmospheric extinction:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">atm_ext_b</span><span class="p">,</span> <span class="n">atm_ext_v</span> <span class="o">=</span> <span class="mf">0.12</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">mag</span><span class="p">,</span> <span class="mf">0.08</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">mag</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">secz</span> <span class="o">=</span> <span class="mf">1.</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">45</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">deg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b_i0</span> <span class="o">=</span> <span class="n">b_i</span> <span class="o">-</span> <span class="n">atm_ext_b</span> <span class="o">*</span> <span class="n">secz</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v_i0</span> <span class="o">=</span> <span class="n">v_i</span> <span class="o">-</span> <span class="n">atm_ext_b</span> <span class="o">*</span> <span class="n">secz</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b_i0</span><span class="p">,</span> <span class="n">v_i0</span>  
<span class="go">(&lt;Magnitude [-1.36250876,  2.33029437,  4.39006622] mag(ct / s)&gt;,</span>
<span class="go"> &lt;Magnitude [-1.67485561,  2.4446881 ,  3.83544435] mag(ct / s)&gt;)</span>
</pre></div>
</div>
<p>Since the extinction is dimensionless, the units do not change. Now suppose the
first star has a known ST magnitude, so we can calculate zero points:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b_ref</span><span class="p">,</span> <span class="n">v_ref</span> <span class="o">=</span> <span class="mf">17.2</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">STmag</span><span class="p">,</span> <span class="mf">17.0</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">STmag</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b_ref</span><span class="p">,</span> <span class="n">v_ref</span>  
<span class="go">(&lt;Magnitude 17.2 mag(ST)&gt;, &lt;Magnitude 17. mag(ST)&gt;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zp_b</span><span class="p">,</span> <span class="n">zp_v</span> <span class="o">=</span> <span class="n">b_ref</span> <span class="o">-</span> <span class="n">b_i0</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">v_ref</span> <span class="o">-</span> <span class="n">v_i0</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zp_b</span><span class="p">,</span> <span class="n">zp_v</span>  
<span class="go">(&lt;Magnitude 18.56250876 mag(s ST / ct)&gt;,</span>
<span class="go"> &lt;Magnitude 18.67485561 mag(s ST / ct)&gt;)</span>
</pre></div>
</div>
<p>Here, <code class="docutils literal notranslate"><span class="pre">ST</span></code> is shorthand for the ST zero-point flux:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="mf">0.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">STmag</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">erg</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">AA</span><span class="p">)</span>  
<span class="go">&lt;Quantity 3.63078055e-09 erg / (Angstrom cm2 s)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="o">-</span><span class="mf">21.1</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">STmag</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">erg</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">AA</span><span class="p">)</span>  
<span class="go">&lt;Quantity 1. erg / (Angstrom cm2 s)&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At present, only magnitudes defined in terms of luminosity or flux are
implemented, since those do not depend on the filter with which the
measurement was made. They include absolute and apparent bolometric <a class="reference internal" href="#m15" id="id3"><span>[M15]</span></a>,
ST <a class="reference internal" href="#h95" id="id4"><span>[H95]</span></a>, and AB <a class="reference internal" href="#og83" id="id5"><span>[OG83]</span></a> magnitudes.</p>
</div>
<p>Now applying the calibration, we find (note the proper change in units):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">B</span><span class="p">,</span> <span class="n">V</span> <span class="o">=</span> <span class="n">b_i0</span> <span class="o">+</span> <span class="n">zp_b</span><span class="p">,</span> <span class="n">v_i0</span> <span class="o">+</span> <span class="n">zp_v</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span><span class="p">,</span> <span class="n">V</span>  
<span class="go">(&lt;Magnitude [17.2       , 20.89280314, 22.95257499] mag(ST)&gt;,</span>
<span class="go"> &lt;Magnitude [17.        , 21.1195437 , 22.51029996] mag(ST)&gt;)</span>
</pre></div>
</div>
<p>We could convert these magnitudes to another system, for example, ABMag, using
appropriate <a class="reference internal" href="equivalencies.html#unit-equivalencies"><span class="std std-ref">equivalency</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">V</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">ABmag</span><span class="p">,</span> <span class="n">u</span><span class="o">.</span><span class="n">spectral_density</span><span class="p">(</span><span class="mf">5500.</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">AA</span><span class="p">))</span>  
<span class="go">&lt;Magnitude [16.99023831, 21.10978201, 22.50053827] mag(AB)&gt;</span>
</pre></div>
</div>
<p>This is particularly useful for converting magnitude into flux density. <code class="docutils literal notranslate"><span class="pre">V</span></code>
is currently in ST magnitudes, which is based on flux densities per unit
wavelength (<span class="math notranslate nohighlight">\(f_\lambda\)</span>). Therefore, we can directly convert <code class="docutils literal notranslate"><span class="pre">V</span></code> into
flux density per unit wavelength using the
<a class="reference internal" href="../api/astropy.units.quantity.Quantity.html#astropy.units.quantity.Quantity.to" title="astropy.units.quantity.Quantity.to"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to()</span></code></a> method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">flam</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">erg</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">AA</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flam</span>  
<span class="go">&lt;Quantity [5.75439937e-16, 1.29473986e-17, 3.59649961e-18] erg / (Angstrom cm2 s)&gt;</span>
</pre></div>
</div>
<p>To convert <code class="docutils literal notranslate"><span class="pre">V</span></code> to flux density per unit frequency (<span class="math notranslate nohighlight">\(f_\nu\)</span>), we again
need the appropriate <a class="reference internal" href="equivalencies.html#unit-equivalencies"><span class="std std-ref">equivalency</span></a>, which in this case
is the central wavelength of the magnitude band, 5500 Angstroms:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lam</span> <span class="o">=</span> <span class="mi">5500</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">AA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fnu</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">erg</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">Hz</span><span class="p">,</span> <span class="n">u</span><span class="o">.</span><span class="n">spectral_density</span><span class="p">(</span><span class="n">lam</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fnu</span>  
<span class="go">&lt;Quantity [5.80636959e-27, 1.30643316e-28, 3.62898099e-29] erg / (cm2 Hz s)&gt;</span>
</pre></div>
</div>
<p>We could have used the central frequency instead:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">nu</span> <span class="o">=</span> <span class="mf">5.45077196e+14</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">Hz</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fnu</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">erg</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">Hz</span><span class="p">,</span> <span class="n">u</span><span class="o">.</span><span class="n">spectral_density</span><span class="p">(</span><span class="n">nu</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fnu</span>  
<span class="go">&lt;Quantity [5.80636959e-27, 1.30643316e-28, 3.62898099e-29] erg / (cm2 Hz s)&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When converting magnitudes to flux densities, the order of operations
matters; the value of the unit needs to be established <em>before</em> the
conversion. For example, <code class="docutils literal notranslate"><span class="pre">21</span> <span class="pre">*</span> <span class="pre">u.ABmag.to(u.erg/u.s/u.cm**2/u.Hz)</span></code> will
give you 21 times <span class="math notranslate nohighlight">\(f_\nu\)</span> for an AB mag of 1, whereas <code class="docutils literal notranslate"><span class="pre">(21</span> <span class="pre">*</span>
<span class="pre">u.ABmag).to(u.erg/u.s/u.cm**2/u.Hz)</span></code> will give you <span class="math notranslate nohighlight">\(f_\nu\)</span> for an AB
mag of 21.</p>
</div>
<p>Suppose we also knew the intrinsic color of the first star, then we can
calculate the reddening:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">B_V0</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.2</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">mag</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">EB_V</span> <span class="o">=</span> <span class="p">(</span><span class="n">B</span> <span class="o">-</span> <span class="n">V</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">B_V0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">R_V</span> <span class="o">=</span> <span class="mf">3.1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A_V</span> <span class="o">=</span> <span class="n">R_V</span> <span class="o">*</span> <span class="n">EB_V</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A_B</span> <span class="o">=</span> <span class="p">(</span><span class="n">R_V</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">EB_V</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">EB_V</span><span class="p">,</span> <span class="n">A_V</span><span class="p">,</span> <span class="n">A_B</span>  
<span class="go">(&lt;Magnitude 0.4 mag&gt;, &lt;Magnitude 1.24 mag&gt;, &lt;Magnitude 1.64 mag&gt;)</span>
</pre></div>
</div>
<p>Here, you see that the extinctions have been converted to quantities. This
happens generally for division and multiplication, since these processes
work only for dimensionless magnitudes (otherwise, the physical unit would have
to be raised to some power), and <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> objects, unlike logarithmic
quantities, allow units like <code class="docutils literal notranslate"><span class="pre">mag</span> <span class="pre">/</span> <span class="pre">d</span></code>.</p>
<p>Note that you can take the automatic unit conversion quite far (perhaps too
far, but it is fun). For instance, suppose we also knew the bolometric
correction and absolute bolometric magnitude, then we can calculate the
distance modulus:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">BC_V</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.3</span> <span class="o">*</span> <span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">m_bol</span> <span class="o">-</span> <span class="n">u</span><span class="o">.</span><span class="n">STmag</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M_bol</span> <span class="o">=</span> <span class="mf">5.46</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">M_bol</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">DM</span> <span class="o">=</span> <span class="n">V</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">A_V</span> <span class="o">+</span> <span class="n">BC_V</span> <span class="o">-</span> <span class="n">M_bol</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">BC_V</span><span class="p">,</span> <span class="n">M_bol</span><span class="p">,</span> <span class="n">DM</span>  
<span class="go">(&lt;Magnitude -0.3 mag(bol / ST)&gt;,</span>
<span class="go"> &lt;Magnitude 5.46 mag(Bol)&gt;,</span>
<span class="go"> &lt;Magnitude 10. mag(bol / Bol)&gt;)</span>
</pre></div>
</div>
<p>With a proper <a class="reference internal" href="equivalencies.html#unit-equivalencies"><span class="std std-ref">equivalency</span></a>, we can also convert to
distance without remembering the 5-5log rule (but you might find the
<a class="reference internal" href="../api/astropy.coordinates.Distance.html#astropy.coordinates.Distance" title="astropy.coordinates.Distance"><code class="xref py py-class docutils literal notranslate"><span class="pre">Distance</span></code></a> class to be even more convenient):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">radius_and_inverse_area</span> <span class="o">=</span> <span class="p">[(</span><span class="n">u</span><span class="o">.</span><span class="n">pc</span><span class="p">,</span> <span class="n">u</span><span class="o">.</span><span class="n">pc</span><span class="o">**-</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>                           <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mf">1.</span><span class="o">/</span><span class="p">(</span><span class="mf">4.</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">),</span>
<span class="gp">... </span>                           <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mf">1.</span><span class="o">/</span><span class="p">(</span><span class="mf">4.</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">x</span><span class="p">)))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">DM</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">pc</span><span class="p">,</span> <span class="n">equivalencies</span><span class="o">=</span><span class="n">radius_and_inverse_area</span><span class="p">)</span>  
<span class="go">&lt;Quantity 1000. pc&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="numpy-functions">
<h2>NumPy Functions<a class="headerlink" href="#numpy-functions" title="Permalink to this headline">¶</a></h2>
<p>For logarithmic quantities, most <code class="docutils literal notranslate"><span class="pre">numpy</span></code> functions and many array methods do
not make sense, hence they are disabled. But you can use those you would expect
to work:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">v_i</span><span class="p">)</span>  
<span class="go">&lt;Magnitude 4.00514998 mag(ct / s)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">v_i</span><span class="p">)</span>  
<span class="go">&lt;Magnitude 2.33971149 mag&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is implemented by having a list of supported ufuncs in
<code class="docutils literal notranslate"><span class="pre">units/function/core.py</span></code> and by explicitly disabling some array methods in
<a class="reference internal" href="../api/astropy.units.function.FunctionQuantity.html#astropy.units.function.FunctionQuantity" title="astropy.units.function.FunctionQuantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionQuantity</span></code></a>.  If you believe a
function or method is incorrectly treated, please <a class="reference external" href="http://www.astropy.org/contribute.html">let us know</a>.</p>
</div>
</div>
<div class="section" id="dimensionless-logarithmic-quantities">
<h2>Dimensionless Logarithmic Quantities<a class="headerlink" href="#dimensionless-logarithmic-quantities" title="Permalink to this headline">¶</a></h2>
<p>Dimensionless quantities are treated somewhat specially in that, if needed,
logarithmic quantities will be converted to normal <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> objects with the
appropriate unit of <code class="docutils literal notranslate"><span class="pre">mag</span></code>, <code class="docutils literal notranslate"><span class="pre">dB</span></code>, or <code class="docutils literal notranslate"><span class="pre">dex</span></code>.  With this, it is possible to
use composite units like <code class="docutils literal notranslate"><span class="pre">mag/d</span></code> or <code class="docutils literal notranslate"><span class="pre">dB/m</span></code>, which cannot conveniently be
supported as logarithmic units. For instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dBm</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">dB</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mW</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">signal_in</span><span class="p">,</span> <span class="n">signal_out</span> <span class="o">=</span> <span class="mf">100.</span> <span class="o">*</span> <span class="n">dBm</span><span class="p">,</span> <span class="mi">50</span> <span class="o">*</span> <span class="n">dBm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cable_loss</span> <span class="o">=</span> <span class="p">(</span><span class="n">signal_in</span> <span class="o">-</span> <span class="n">signal_out</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mf">100.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">signal_in</span><span class="p">,</span> <span class="n">signal_out</span><span class="p">,</span> <span class="n">cable_loss</span>  
<span class="go">(&lt;Decibel 100. dB(mW)&gt;, &lt;Decibel 50. dB(mW)&gt;, &lt;Quantity 0.5 dB / m&gt;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">better_cable_loss</span> <span class="o">=</span> <span class="mf">0.2</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">dB</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">signal_in</span> <span class="o">-</span> <span class="n">better_cable_loss</span> <span class="o">*</span> <span class="mf">100.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span>  
<span class="go">&lt;Decibel 80. dB(mW)&gt;</span>
</pre></div>
</div>
<p><strong>References</strong></p>
<dl class="citation">
<dt class="label" id="m15"><span class="brackets"><a class="fn-backref" href="#id3">M15</a></span></dt>
<dd><p>Mamajek et al., 2015, <a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2015arXiv151006262M">arXiv:1510.06262</a></p>
</dd>
<dt class="label" id="h95"><span class="brackets"><a class="fn-backref" href="#id4">H95</a></span></dt>
<dd><p>E.g., Holtzman et al., 1995, <a class="reference external" href="https://ui.adsabs.harvard.edu/abs/1995PASP..107.1065H">PASP 107, 1065</a></p>
</dd>
<dt class="label" id="og83"><span class="brackets"><a class="fn-backref" href="#id5">OG83</a></span></dt>
<dd><p>Oke, J.B., &amp; Gunn, J. E., 1983, <a class="reference external" href="https://ui.adsabs.harvard.edu/abs/1983ApJ...266..713O">ApJ 266, 713</a></p>
</dd>
</dl>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">Magnitudes and Other Logarithmic Units</a><ul>
<li><a class="reference internal" href="#creating-logarithmic-quantities">Creating Logarithmic Quantities</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#converting-to-different-units">Converting to Different Units</a><ul>
<li><a class="reference internal" href="#id1">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#arithmetic-and-photometric-applications">Arithmetic and Photometric Applications</a><ul>
<li><a class="reference internal" href="#id2">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#numpy-functions">NumPy Functions</a></li>
<li><a class="reference internal" href="#dimensionless-logarithmic-quantities">Dimensionless Logarithmic Quantities</a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/units/logarithmic_units.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2011–2022, The Astropy Developers.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 3.5.4. &nbsp;
    Last built 09 May 2022. <br/>
  </p>
</footer>
  </body>
</html>