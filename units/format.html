


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>String Representations of Units &#8212; Astropy v5.2.dev104+gcdd6a1f81.d20220509</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Equivalencies" href="equivalencies.html" />
    <link rel="prev" title="Structured Units" href="structured_units.html" />
  
  <meta name="robots" content="noindex, nofollow">
  
  
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>


  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">astro</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="equivalencies.html" title="Equivalencies">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="structured_units.html" title="Structured Units">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">Astropy v5.2.dev104+gcdd6a1f81.d20220509</a>
	 &#187;
      </li>
      <li><a href="index.html" accesskey="U">Units and Quantities (<code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.units</span></code>)</a> &#187;</li>
      
      <li>String Representations of Units</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="string-representations-of-units">
<span id="astropy-units-format"></span><h1>String Representations of Units<a class="headerlink" href="#string-representations-of-units" title="Permalink to this headline">¶</a></h1>
<div class="section" id="converting-units-to-string-representations">
<h2>Converting Units to String Representations<a class="headerlink" href="#converting-units-to-string-representations" title="Permalink to this headline">¶</a></h2>
<p>You can control the way that <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> and <a class="reference internal" href="../api/astropy.units.UnitBase.html#astropy.units.UnitBase" title="astropy.units.UnitBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnitBase</span></code></a> objects are rendered as
strings using the <a class="reference external" href="https://docs.python.org/3/library/string.html#format-string-syntax">Python Format String Syntax</a>
(demonstrated below using <a class="reference external" href="https://www.python.org/dev/peps/pep-0498/">f-strings</a>).</p>
<p>For quantities, format specifiers, like <code class="docutils literal notranslate"><span class="pre">.3f</span></code> will be applied to
the <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> value, without affecting the unit. Specifiers like
<code class="docutils literal notranslate"><span class="pre">^20s</span></code>, which would only apply to a string, will be applied to the
whole string representation of the <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a>.</p>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>To render <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> or <a class="reference internal" href="../api/astropy.units.UnitBase.html#astropy.units.UnitBase" title="astropy.units.UnitBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnitBase</span></code></a> objects as strings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy</span> <span class="kn">import</span> <span class="n">units</span> <span class="k">as</span> <span class="n">u</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="mf">10.5</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">km</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span>
<span class="go">&lt;Quantity  10.5 km&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">q</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="go">&#39;10.5 km&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">q</span><span class="si">:</span><span class="s2">+.3f</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="go">&#39;+10.500 km&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">q</span><span class="si">:</span><span class="s2">^20s</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="go">&#39;     10.5 km        &#39;</span>
</pre></div>
</div>
<p>To format both the value and the unit separately, you can access the <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a>
attributes within format strings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="mf">10.5</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">km</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span>
<span class="go">&lt;Quantity  10.5 km&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">q</span><span class="o">.</span><span class="n">value</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2"> in </span><span class="si">{</span><span class="n">q</span><span class="o">.</span><span class="n">unit</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="go">&#39;10.500 in km&#39;</span>
</pre></div>
</div>
<p>Because <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> does not accept most format specifiers, using specifiers like
<code class="docutils literal notranslate"><span class="pre">.3f</span></code> will not work when applied to a <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> or non-scalar <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a>. Use
<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.array_str.html#numpy.array_str" title="(in NumPy v1.22)"><code class="xref py py-func docutils literal notranslate"><span class="pre">numpy.array_str()</span></code></a> instead. For instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">array_str</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">q</span><span class="o">.</span><span class="n">unit</span><span class="si">}</span><span class="s2">&quot;</span>  
<span class="go">&#39;[0.  0.1 0.2 0.3 0.4 0.6 0.7 0.8 0.9 1. ] m&#39;</span>
</pre></div>
</div>
<p>Examine the NumPy documentation for more examples with <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.array_str.html#numpy.array_str" title="(in NumPy v1.22)"><code class="xref py py-func docutils literal notranslate"><span class="pre">numpy.array_str()</span></code></a>.</p>
<p>Units, or the unit part of a quantity, can also be formatted in a number of
different styles. By default, the string format used is referred to as the
“generic” format, which is based on syntax of the <a class="reference external" href="https://fits.gsfc.nasa.gov/fits_standard.html">FITS standard</a> format for representing
units, but supports all of the units defined within the <a class="reference internal" href="index.html#module-astropy.units" title="astropy.units"><code class="xref py py-mod docutils literal notranslate"><span class="pre">astropy.units</span></code></a>
framework, including user-defined units. The format specifier (and
<a class="reference internal" href="../api/astropy.units.UnitBase.html#astropy.units.UnitBase.to_string" title="astropy.units.core.UnitBase"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_string()</span></code></a>) functions also take an optional
parameter to select a different format, including <code class="docutils literal notranslate"><span class="pre">&quot;latex&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;unicode&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;cds&quot;</span></code>, and others, defined below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">km</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">q</span><span class="o">.</span><span class="n">value</span><span class="si">:</span><span class="s2">0.003f</span><span class="si">}</span><span class="s2"> in </span><span class="si">{</span><span class="n">q</span><span class="o">.</span><span class="n">unit</span><span class="si">:</span><span class="s2">latex</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="go">&#39;10.000 in $\\mathrm{km}$&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxunit</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">erg</span> <span class="o">/</span> <span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">fluxunit</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="go">&#39;erg / (cm2 s)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">fluxunit</span><span class="si">:</span><span class="s2">console</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go"> erg</span>
<span class="go">------</span>
<span class="go">s cm^2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">fluxunit</span><span class="si">:</span><span class="s2">latex</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="go">&#39;$\\mathrm{\\frac{erg}{s\\,cm^{2}}}$&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">fluxunit</span><span class="si">:</span><span class="s2">&gt;20s</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="go">&#39;       erg / (cm2 s)&#39;</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="../api/astropy.units.UnitBase.html#astropy.units.UnitBase.to_string" title="astropy.units.core.UnitBase"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_string()</span></code></a> method is an alternative way
to format units as strings, and is the underlying implementation of the
<a class="reference external" href="https://docs.python.org/3/library/functions.html#format" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">format</span></code></a>-style usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fluxunit</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">erg</span> <span class="o">/</span> <span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxunit</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="s1">&#39;latex&#39;</span><span class="p">)</span>
<span class="go">&#39;$\\mathrm{\\frac{erg}{s\\,cm^{2}}}$&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="creating-units-from-strings">
<h2>Creating Units from Strings<a class="headerlink" href="#creating-units-from-strings" title="Permalink to this headline">¶</a></h2>
<p>Units can also be created from strings in a number of different
formats using the <a class="reference internal" href="../api/astropy.units.Unit.html#astropy.units.Unit" title="astropy.units.Unit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Unit</span></code></a> class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">Unit</span><span class="p">(</span><span class="s2">&quot;m&quot;</span><span class="p">)</span>
<span class="go">Unit(&quot;m&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">Unit</span><span class="p">(</span><span class="s2">&quot;erg / (s cm2)&quot;</span><span class="p">)</span>
<span class="go">Unit(&quot;erg / (cm2 s)&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">Unit</span><span class="p">(</span><span class="s2">&quot;erg.s-1.cm-2&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;cds&quot;</span><span class="p">)</span>
<span class="go">Unit(&quot;erg / (cm2 s)&quot;)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Creating units from strings requires the use of a specialized
parser for the unit language, which results in a performance
penalty if units are created using strings. Thus, it is much
faster to use <a class="reference internal" href="../api/astropy.units.UnitBase.html#astropy.units.UnitBase" title="astropy.units.UnitBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnitBase</span></code></a> objects directly (e.g., <code class="docutils literal notranslate"><span class="pre">unit</span> <span class="pre">=</span> <span class="pre">u.degree</span> <span class="pre">/</span>
<span class="pre">u.minute</span></code>) instead of via string parsing (<code class="docutils literal notranslate"><span class="pre">unit</span> <span class="pre">=</span>
<span class="pre">u.Unit('deg/min')</span></code>). This parser is very useful, however, if your
unit definitions are coming from a file format such as FITS or
VOTable.</p>
</div>
</div>
<div class="section" id="built-in-formats">
<h2>Built-In Formats<a class="headerlink" href="#built-in-formats" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="index.html#module-astropy.units" title="astropy.units"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.units</span></code></a> includes support for parsing and writing the following
formats:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;fits&quot;</span></code>: This is the format defined in the Units section of the
<a class="reference external" href="https://fits.gsfc.nasa.gov/fits_standard.html">FITS Standard</a>.
Unlike the “generic” string format, this will only accept or
generate units defined in the FITS standard.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;vounit&quot;</span></code>: The <a class="reference external" href="http://www.ivoa.net/documents/VOUnits/">Units in the VO 1.0</a> standard for
representing units in the VO. Again, based on the FITS syntax,
but the collection of supported units is different.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;cds&quot;</span></code>: <a class="reference external" href="http://vizier.u-strasbg.fr/vizier/doc/catstd-3.2.htx">Standards for astronomical catalogues from Centre de
Données astronomiques de Strasbourg</a>: This is the
standard used by <a class="reference external" href="http://vizier.u-strasbg.fr/">Vizier tables</a>,
as well as what is used by VOTable versions 1.3 and earlier.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;ogip&quot;</span></code>: A standard for storing units as recommended by the
<a class="reference external" href="https://heasarc.gsfc.nasa.gov/docs/heasarc/ofwg/docs/general/ogip_93_001/">Office of Guest Investigator Programs (OGIP)</a>.</p></li>
</ul>
</div></blockquote>
<p><a class="reference internal" href="index.html#module-astropy.units" title="astropy.units"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.units</span></code></a> is also able to write, but not read, units in the
following formats:</p>
<blockquote>
<div><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;latex&quot;</span></code>: Writes units out using LaTeX math syntax using the
<a class="reference external" href="https://www.iau.org/static/publications/stylemanual1989.pdf">IAU Style Manual</a>
recommendations for unit presentation. This format is
automatically used when printing a unit in the <a class="reference external" href="http://ipython.org/">IPython</a> notebook:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fluxunit</span>  
</pre></div>
</div>
<div class="math notranslate nohighlight">
\[\mathrm{\frac{erg}{s\,cm^{2}}}\]</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;latex_inline&quot;</span></code>: Writes units out using LaTeX math syntax using the
<a class="reference external" href="https://www.iau.org/static/publications/stylemanual1989.pdf">IAU Style Manual</a>
recommendations for unit presentation, using negative powers instead of
fractions, as required by some journals (e.g., <a class="reference external" href="https://journals.aas.org/manuscript-preparation/">Apj and AJ</a>).
Best suited for unit representation inline with text:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fluxunit</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="s1">&#39;latex_inline&#39;</span><span class="p">)</span>  
</pre></div>
</div>
<div class="math notranslate nohighlight">
\[\mathrm{erg\,s^{-1}\,cm^{-2}}\]</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;console&quot;</span></code>: Writes a multiline representation of the unit
useful for display in a text console:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fluxunit</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="s1">&#39;console&#39;</span><span class="p">))</span>
<span class="go"> erg</span>
<span class="go">------</span>
<span class="go">s cm^2</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;unicode&quot;</span></code>: Same as <code class="docutils literal notranslate"><span class="pre">&quot;console&quot;</span></code>, except uses Unicode
characters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">Ry</span><span class="o">.</span><span class="n">decompose</span><span class="p">()</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="s1">&#39;unicode&#39;</span><span class="p">))</span>  
<span class="go">                m² kg</span>
<span class="go">2.1798724×10⁻¹⁸ ─────</span>
<span class="go">                 s²</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="dealing-with-unrecognized-units">
<span id="astropy-units-format-unrecognized"></span><h2>Dealing with Unrecognized Units<a class="headerlink" href="#dealing-with-unrecognized-units" title="Permalink to this headline">¶</a></h2>
<p>Since many files found in the wild have unit strings that do not
correspond to any given standard, <a class="reference internal" href="index.html#module-astropy.units" title="astropy.units"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.units</span></code></a> also has a
consistent way to store and pass around unit strings that did not
parse.  In addition, it provides tools for transforming non-standard,
legacy or misspelt unit strings into their standardized form,
preventing the further propagation of these unit strings.</p>
<p>By default, passing an unrecognized unit string raises an exception:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># The FITS standard uses &#39;angstrom&#39;, not &#39;Angstroem&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">Unit</span><span class="p">(</span><span class="s2">&quot;Angstroem&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;fits&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">&#39;Angstroem&#39; did not parse as fits unit: At col 0, Unit</span>
<span class="go">&#39;Angstroem&#39; not supported by the FITS standard. Did you mean Angstrom</span>
<span class="go">or angstrom? If this is meant to be a custom unit, define it with</span>
<span class="go">&#39;u.def_unit&#39;. To have it recognized inside a file reader or other</span>
<span class="go">code, enable it with &#39;u.add_enabled_units&#39;. For details, see</span>
<span class="go">https://docs.astropy.org/en/latest/units/combining_and_defining.html</span>
</pre></div>
</div>
<p>However, the <a class="reference internal" href="../api/astropy.units.Unit.html#astropy.units.Unit" title="astropy.units.Unit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Unit</span></code></a> constructor has the keyword
argument <code class="docutils literal notranslate"><span class="pre">parse_strict</span></code> that can take one of three values to control
this behavior:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'raise'</span></code>: (default) raise a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'warn'</span></code>: emit a <a class="reference internal" href="../api/astropy.units.UnitsWarning.html#astropy.units.UnitsWarning" title="astropy.units.UnitsWarning"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnitsWarning</span></code></a>, and return an
<a class="reference internal" href="../api/astropy.units.UnrecognizedUnit.html#astropy.units.UnrecognizedUnit" title="astropy.units.UnrecognizedUnit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UnrecognizedUnit</span></code></a> instance.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'silent'</span></code>: return an <a class="reference internal" href="../api/astropy.units.UnrecognizedUnit.html#astropy.units.UnrecognizedUnit" title="astropy.units.UnrecognizedUnit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UnrecognizedUnit</span></code></a>
instance.</p></li>
</ul>
</div></blockquote>
<p>By either adding additional unit aliases for the misspelt units with
<a class="reference internal" href="../api/astropy.units.set_enabled_aliases.html#astropy.units.set_enabled_aliases" title="astropy.units.set_enabled_aliases"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_enabled_aliases()</span></code></a> (e.g., ‘Angstroms’ for ‘Angstrom’;
as demonstrated below), or defining new units via
<a class="reference internal" href="../api/astropy.units.def_unit.html#astropy.units.def_unit" title="astropy.units.def_unit"><code class="xref py py-func docutils literal notranslate"><span class="pre">def_unit()</span></code></a> and <a class="reference internal" href="../api/astropy.units.add_enabled_units.html#astropy.units.add_enabled_units" title="astropy.units.add_enabled_units"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_enabled_units()</span></code></a>,
we can use <code class="docutils literal notranslate"><span class="pre">parse_strict='raise'</span></code> to rapidly find issues with the units used,
while also being able to read in older datasets where the unit usage may have
been less standard.</p>
<div class="section" id="id2">
<h3>Examples<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>To set unit aliases, pass <a class="reference internal" href="../api/astropy.units.set_enabled_aliases.html#astropy.units.set_enabled_aliases" title="astropy.units.set_enabled_aliases"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_enabled_aliases()</span></code></a> a
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> mapping the misspelt string to an astropy unit. The following
code snippet shows how to set up Angstroem -&gt; Angstrom:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">set_enabled_aliases</span><span class="p">({</span><span class="s2">&quot;Angstroem&quot;</span><span class="p">:</span> <span class="n">u</span><span class="o">.</span><span class="n">Angstrom</span><span class="p">})</span>
<span class="go">&lt;astropy.units.core._UnitContext object at 0x...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">Unit</span><span class="p">(</span><span class="s2">&quot;Angstroem&quot;</span><span class="p">)</span>
<span class="go">Unit(&quot;Angstrom&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">Unit</span><span class="p">(</span><span class="s2">&quot;Angstroem&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">u</span><span class="o">.</span><span class="n">Angstrom</span>
<span class="go">True</span>
</pre></div>
</div>
<p>You can also set multiple aliases up at once or add to existing ones:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">set_enabled_aliases</span><span class="p">({</span><span class="s2">&quot;Angstroem&quot;</span><span class="p">:</span> <span class="n">u</span><span class="o">.</span><span class="n">Angstrom</span><span class="p">,</span> <span class="s2">&quot;Angstroms&quot;</span><span class="p">:</span> <span class="n">u</span><span class="o">.</span><span class="n">Angstrom</span><span class="p">})</span>
<span class="go">&lt;astropy.units.core._UnitContext object at 0x...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">add_enabled_aliases</span><span class="p">({</span><span class="s2">&quot;angstroem&quot;</span><span class="p">:</span> <span class="n">u</span><span class="o">.</span><span class="n">Angstrom</span><span class="p">})</span>
<span class="go">&lt;astropy.units.core._UnitContext object at 0x...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">Unit</span><span class="p">(</span><span class="s2">&quot;Angstroem&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">u</span><span class="o">.</span><span class="n">Unit</span><span class="p">(</span><span class="s2">&quot;Angstroms&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">u</span><span class="o">.</span><span class="n">Unit</span><span class="p">(</span><span class="s2">&quot;angstroem&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">u</span><span class="o">.</span><span class="n">Angstrom</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The aliases can be reset by passing an empty dictionary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">set_enabled_aliases</span><span class="p">({})</span>
<span class="go">&lt;astropy.units.core._UnitContext object at 0x...&gt;</span>
</pre></div>
</div>
<p>You can use both <a class="reference internal" href="../api/astropy.units.set_enabled_aliases.html#astropy.units.set_enabled_aliases" title="astropy.units.set_enabled_aliases"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_enabled_aliases()</span></code></a> and
<a class="reference internal" href="../api/astropy.units.add_enabled_aliases.html#astropy.units.add_enabled_aliases" title="astropy.units.add_enabled_aliases"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_enabled_aliases()</span></code></a> as a <a class="reference external" href="https://docs.python.org/3/reference/datamodel.html#context-managers">context manager</a>,
limiting where a particular alias is used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">u</span><span class="o">.</span><span class="n">add_enabled_aliases</span><span class="p">({</span><span class="s2">&quot;Angstroem&quot;</span><span class="p">:</span> <span class="n">u</span><span class="o">.</span><span class="n">Angstrom</span><span class="p">}):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">Unit</span><span class="p">(</span><span class="s2">&quot;Angstroem&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">u</span><span class="o">.</span><span class="n">Angstrom</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">Unit</span><span class="p">(</span><span class="s2">&quot;Angstroem&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">u</span><span class="o">.</span><span class="n">Angstrom</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">&#39;Angstroem&#39; did not parse as unit: At col 0, Angstroem is not</span>
<span class="go">a valid unit. Did you mean Angstrom, angstrom, mAngstrom or mangstrom? If</span>
<span class="go">this is meant to be a custom unit, define it with &#39;u.def_unit&#39;. To have it</span>
<span class="go">recognized inside a file reader or other code, enable it with</span>
<span class="go">&#39;u.add_enabled_units&#39;. For details, see</span>
<span class="go">https://docs.astropy.org/en/latest/units/combining_and_defining.html</span>
</pre></div>
</div>
<p>To pass an unrecognized unit string:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">Unit</span><span class="p">(</span><span class="s2">&quot;Angstroem&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;fits&quot;</span><span class="p">,</span> <span class="n">parse_strict</span><span class="o">=</span><span class="s2">&quot;warn&quot;</span><span class="p">)</span>  
<span class="go">UnitsWarning: &#39;Angstroem&#39; did not parse as fits unit: At col 0, Unit</span>
<span class="go">&#39;Angstroem&#39; not supported by the FITS standard. Did you mean Angstrom or</span>
<span class="go">angstrom? If this is meant to be a custom unit, define it with &#39;u.def_unit&#39;.</span>
<span class="go">To have it recognized inside a file reader or other code, enable it with</span>
<span class="go">&#39;u.add_enabled_units&#39;. For details, see</span>
<span class="go">https://docs.astropy.org/en/latest/units/combining_and_defining.html</span>
</pre></div>
</div>
<p>This <a class="reference internal" href="../api/astropy.units.UnrecognizedUnit.html#astropy.units.UnrecognizedUnit" title="astropy.units.UnrecognizedUnit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UnrecognizedUnit</span></code></a> object remembers the
original string it was created with, so it can be written back out,
but any meaningful operations on it, such as converting to another
unit or composing with other units, will fail.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">to_string</span><span class="p">()</span>
<span class="go">&#39;Angstroem&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">km</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">The unit &#39;Angstroem&#39; is unrecognized.  It can not be</span>
<span class="go">converted to other units.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">The unit &#39;Angstroem&#39; is unrecognized, so all arithmetic</span>
<span class="go">operations with it are invalid.</span>
</pre></div>
</div>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">String Representations of Units</a><ul>
<li><a class="reference internal" href="#converting-units-to-string-representations">Converting Units to String Representations</a><ul>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#creating-units-from-strings">Creating Units from Strings</a></li>
<li><a class="reference internal" href="#built-in-formats">Built-In Formats</a></li>
<li><a class="reference internal" href="#dealing-with-unrecognized-units">Dealing with Unrecognized Units</a><ul>
<li><a class="reference internal" href="#id2">Examples</a></li>
</ul>
</li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/units/format.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2011–2022, The Astropy Developers.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 3.5.4. &nbsp;
    Last built 09 May 2022. <br/>
  </p>
</footer>
  </body>
</html>