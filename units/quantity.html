


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quantity &#8212; Astropy v5.2.dev94+gb1133d712.d20220509</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Unit-Aware Type Annotations" href="type_hints.html" />
    <link rel="prev" title="Units and Quantities (astropy.units)" href="index.html" />
  
  <meta name="robots" content="noindex, nofollow">
  
  
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>


  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">astro</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="type_hints.html" title="Unit-Aware Type Annotations">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="index.html" title="Units and Quantities (astropy.units)">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">Astropy v5.2.dev94+gb1133d712.d20220509</a>
	 &#187;
      </li>
      <li><a href="index.html" accesskey="U">Units and Quantities (<code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.units</span></code>)</a> &#187;</li>
      
      <li>Quantity</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="quantity">
<span id="id1"></span><h1>Quantity<a class="headerlink" href="#quantity" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> object is meant to represent a value that has some unit
associated with the number.</p>
<div class="section" id="creating-quantity-instances">
<h2>Creating Quantity Instances<a class="headerlink" href="#creating-quantity-instances" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> objects are normally created through multiplication with
<a class="reference internal" href="../api/astropy.units.Unit.html#astropy.units.Unit" title="astropy.units.Unit"><code class="xref py py-class docutils literal notranslate"><span class="pre">Unit</span></code></a> objects.</p>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>To create a <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> to represent 15 m/s:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">astropy.units</span> <span class="k">as</span> <span class="nn">u</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">15</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span>  
<span class="go">&lt;Quantity 15. m / s&gt;</span>
</pre></div>
</div>
<p>This extends as expected to division by a unit, or using <code class="docutils literal notranslate"><span class="pre">numpy</span></code> arrays or
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#typesseq">Python sequences</a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mf">1.25</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span>
<span class="go">&lt;Quantity 1.25 1 / s&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span>  
<span class="go">&lt;Quantity [1., 2., 3.] m&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span>  
<span class="go">&lt;Quantity [1., 2., 3.] m&gt;</span>
</pre></div>
</div>
<p>You can also create instances using the <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> constructor directly, by
specifying a value and unit:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>  
<span class="go">&lt;Quantity 15. m / s&gt;</span>
</pre></div>
</div>
<p>The constructor gives a few more options. In particular, it allows you to
merge sequences of <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> objects (as long as all of their units are
equivalent), and to parse simple strings (which may help, for example, to parse
configuration files, etc.):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">qlst</span> <span class="o">=</span> <span class="p">[</span><span class="mi">60</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="mi">1</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">min</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="n">qlst</span><span class="p">,</span> <span class="n">u</span><span class="o">.</span><span class="n">minute</span><span class="p">)</span>  
<span class="go">&lt;Quantity [1.,  1.] min&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="s1">&#39;15 m/s&#39;</span><span class="p">)</span>  
<span class="go">&lt;Quantity 15. m / s&gt;</span>
</pre></div>
</div>
<p>The current unit and value can be accessed via the
<a class="reference internal" href="../api/astropy.units.quantity.Quantity.html#astropy.units.quantity.Quantity.unit" title="astropy.units.quantity.Quantity.unit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unit</span></code></a> and
<a class="reference internal" href="../api/astropy.units.quantity.Quantity.html#astropy.units.quantity.Quantity.value" title="astropy.units.quantity.Quantity.value"><code class="xref py py-obj docutils literal notranslate"><span class="pre">value</span></code></a> attributes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="mf">2.5</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">unit</span>
<span class="go">Unit(&quot;m / s&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">value</span>
<span class="go">2.5</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> objects are converted to float by default. Furthermore, any
data passed in are copied, which for large arrays may not be optimal.
As discussed <a class="reference internal" href="#astropy-units-quantity-no-copy"><span class="std std-ref">further below</span></a>,
you can instead obtain a <a class="reference external" href="https://numpy.org/doc/stable/glossary.html#term-view">view</a> by passing
<code class="docutils literal notranslate"><span class="pre">copy=False</span></code> to <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> or by using the <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code> operator.</p>
</div>
</div>
</div>
<div class="section" id="converting-to-different-units">
<span id="quantity-unit-conversion"></span><h2>Converting to Different Units<a class="headerlink" href="#converting-to-different-units" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> objects can be converted to different units using the
<a class="reference internal" href="../api/astropy.units.quantity.Quantity.html#astropy.units.quantity.Quantity.to" title="astropy.units.quantity.Quantity.to"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to()</span></code></a> method.</p>
<div class="section" id="id2">
<h3>Examples<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>To convert <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> objects to different units:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="mf">2.3</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">km</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">h</span><span class="p">)</span>  
<span class="go">&lt;Quantity 8.28 km / h&gt;</span>
</pre></div>
</div>
<p>For convenience, the <a class="reference internal" href="../api/astropy.units.quantity.Quantity.html#astropy.units.quantity.Quantity.si" title="astropy.units.quantity.Quantity.si"><code class="xref py py-attr docutils literal notranslate"><span class="pre">si</span></code></a> and
<a class="reference internal" href="../api/astropy.units.quantity.Quantity.html#astropy.units.quantity.Quantity.cgs" title="astropy.units.quantity.Quantity.cgs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">cgs</span></code></a> attributes can be used to convert
the <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> to base <a class="reference external" href="https://www.bipm.org/documents/20126/41483022/SI-Brochure-9-EN.pdf">SI</a> or <a class="reference external" href="https://en.wikipedia.org/wiki/Centimetre-gram-second_system_of_units">CGS</a> units:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="mf">2.4</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">si</span>  
<span class="go">&lt;Quantity 2.4 m / s&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">cgs</span>  
<span class="go">&lt;Quantity 240. cm / s&gt;</span>
</pre></div>
</div>
<p>If you want the value of the quantity in a different unit, you can use
<a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity.to_value" title="astropy.units.Quantity.to_value"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_value()</span></code></a> as a shortcut:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="mf">2.5</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">to_value</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="p">)</span>
<span class="go">250.0</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You could get the value in <code class="docutils literal notranslate"><span class="pre">cm</span></code> also by using <code class="docutils literal notranslate"><span class="pre">q.to(u.cm).value</span></code>.
The difference is that <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity.to_value" title="astropy.units.Quantity.to_value"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_value()</span></code></a> does
no copying if the unit is already the correct one, instead
returning a <a class="reference external" href="https://numpy.org/doc/stable/glossary.html#term-view">view</a>  of the data
(just as if you had done <code class="docutils literal notranslate"><span class="pre">q.value</span></code>). In contrast,
<a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity.to" title="astropy.units.Quantity.to"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to()</span></code></a> always returns a copy (which also
means it is slower for the case where no conversion is necessary).
As discussed <a class="reference internal" href="#astropy-units-quantity-no-copy"><span class="std std-ref">further below</span></a>,
you can avoid the copying by using the <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code> operator.</p>
</div>
</div>
</div>
<div class="section" id="comparing-quantities">
<h2>Comparing Quantities<a class="headerlink" href="#comparing-quantities" title="Permalink to this headline">¶</a></h2>
<p>The equality of <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> objects is best tested using the
<a class="reference internal" href="../api/astropy.units.allclose.html#astropy.units.allclose" title="astropy.units.allclose"><code class="xref py py-func docutils literal notranslate"><span class="pre">allclose()</span></code></a> and <a class="reference internal" href="../api/astropy.units.isclose.html#astropy.units.isclose" title="astropy.units.isclose"><code class="xref py py-func docutils literal notranslate"><span class="pre">isclose()</span></code></a> functions,
which are unit-aware analogues of the <code class="docutils literal notranslate"><span class="pre">numpy</span></code> functions with the same name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">allclose</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">,</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">]</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">isclose</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">,</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">20</span><span class="p">]</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="p">)</span>
<span class="go">array([ True, False])</span>
</pre></div>
</div>
<p>The use of <a class="reference external" href="https://docs.python.org/3/reference/expressions.html#comparisons">Python comparison operators</a> is also
supported:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mi">1</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">&lt;</span> <span class="mi">50</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span>
<span class="go">False</span>
</pre></div>
</div>
</div>
<div class="section" id="plotting-quantities">
<h2>Plotting Quantities<a class="headerlink" href="#plotting-quantities" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> objects can be conveniently plotted using <a class="reference external" href="https://matplotlib.org/">Matplotlib</a> — see
<a class="reference internal" href="../visualization/matplotlib_integration.html#plotting-quantities"><span class="std std-ref">Plotting quantities</span></a> for more details.</p>
</div>
<div class="section" id="arithmetic">
<span id="quantity-arithmetic"></span><h2>Arithmetic<a class="headerlink" href="#arithmetic" title="Permalink to this headline">¶</a></h2>
<div class="section" id="addition-and-subtraction">
<h3>Addition and Subtraction<a class="headerlink" href="#addition-and-subtraction" title="Permalink to this headline">¶</a></h3>
<p>Addition or subtraction between <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> objects is supported when their
units are equivalent.</p>
<div class="section" id="id4">
<h4>Examples<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p>When the units are equal, the resulting object has the same unit:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mi">11</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span> <span class="o">+</span> <span class="mi">30</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span>  
<span class="go">&lt;Quantity 41. s&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">30</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span> <span class="o">-</span> <span class="mi">11</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span>  
<span class="go">&lt;Quantity 19. s&gt;</span>
</pre></div>
</div>
<p>If the units are equivalent, but not equal (e.g., kilometer and meter), the
resulting object <strong>has units of the object on the left</strong>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mf">1100.1</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">+</span> <span class="mf">13.5</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">km</span>
<span class="go">&lt;Quantity 14600.1 m&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">13.5</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">km</span> <span class="o">+</span> <span class="mf">1100.1</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span>  
<span class="go">&lt;Quantity 14.6001 km&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">1100.1</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">-</span> <span class="mf">13.5</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">km</span>
<span class="go">&lt;Quantity -12399.9 m&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">13.5</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">km</span> <span class="o">-</span> <span class="mf">1100.1</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span>  
<span class="go">&lt;Quantity 12.3999 km&gt;</span>
</pre></div>
</div>
<p>Addition and subtraction are not supported between <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> objects and basic
numeric types, except for dimensionless quantities (see <a class="reference internal" href="#dimensionless-quantities">Dimensionless
Quantities</a>) or special values like zero and infinity:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mf">13.5</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">km</span> <span class="o">+</span> <span class="mf">19.412</span>  
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">UnitConversionError</span>: <span class="n">Can only apply &#39;add&#39; function to dimensionless</span>
<span class="go">quantities when other argument is not a quantity (unless the</span>
<span class="go">latter is all zero/infinity/nan)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="multiplication-and-division">
<h3>Multiplication and Division<a class="headerlink" href="#multiplication-and-division" title="Permalink to this headline">¶</a></h3>
<p>Multiplication and division are supported between <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> objects with any
units, and with numeric types. For these operations between objects with
equivalent units, the <strong>resulting object has composite units</strong>.</p>
<div class="section" id="id5">
<h4>Examples<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<p>To perform these operations on <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> objects:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mf">1.1</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">*</span> <span class="mf">140.3</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">cm</span>  
<span class="go">&lt;Quantity 154.33 cm m&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">140.3</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">cm</span> <span class="o">*</span> <span class="mf">1.1</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span>  
<span class="go">&lt;Quantity 154.33 cm m&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">1.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">/</span> <span class="p">(</span><span class="mf">20.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="p">)</span>  
<span class="go">&lt;Quantity 0.05 m / cm&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">20.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">cm</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">)</span>  
<span class="go">&lt;Quantity 20. cm / m&gt;</span>
</pre></div>
</div>
<p>For multiplication, you can change how to represent the resulting object by
using the <a class="reference internal" href="../api/astropy.units.quantity.Quantity.html#astropy.units.quantity.Quantity.to" title="astropy.units.quantity.Quantity.to"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to()</span></code></a> method:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="mf">1.1</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">*</span> <span class="mf">140.3</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>  
<span class="go">&lt;Quantity 1.5433 m2&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="mf">1.1</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">*</span> <span class="mf">140.3</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>  
<span class="go">&lt;Quantity 15433. cm2&gt;</span>
</pre></div>
</div>
<p>For division, if the units are equivalent, you may want to make the resulting
object dimensionless by reducing the units. To do this, use the
<a class="reference internal" href="../api/astropy.units.quantity.Quantity.html#astropy.units.quantity.Quantity.decompose" title="astropy.units.quantity.Quantity.decompose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">decompose()</span></code></a> method:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="mf">20.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">cm</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">))</span><span class="o">.</span><span class="n">decompose</span><span class="p">()</span>  
<span class="go">&lt;Quantity 0.2&gt;</span>
</pre></div>
</div>
<p>This method is also useful for more complicated arithmetic:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mf">15.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">kg</span> <span class="o">*</span> <span class="mf">32.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">cm</span> <span class="o">*</span> <span class="mi">15</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">/</span> <span class="p">(</span><span class="mf">11.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span> <span class="o">*</span> <span class="mf">1914.15</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">ms</span><span class="p">)</span>  
<span class="go">&lt;Quantity 0.34195097 cm kg m / (ms s)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="mf">15.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">kg</span> <span class="o">*</span> <span class="mf">32.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">cm</span> <span class="o">*</span> <span class="mi">15</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">/</span> <span class="p">(</span><span class="mf">11.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span> <span class="o">*</span> <span class="mf">1914.15</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">ms</span><span class="p">))</span><span class="o">.</span><span class="n">decompose</span><span class="p">()</span>  
<span class="go">&lt;Quantity 3.41950973 kg m2 / s2&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="numpy-functions">
<span id="quantity-and-numpy"></span><h2>NumPy Functions<a class="headerlink" href="#numpy-functions" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> objects are actually full <code class="docutils literal notranslate"><span class="pre">numpy</span></code> arrays (the <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> class
inherits from and extends <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>), and we have tried to ensure
that <code class="docutils literal notranslate"><span class="pre">numpy</span></code> functions behave properly with quantities:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">])</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">&lt;Quantity 2.5 m / s&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>  
<span class="go">&lt;Quantity 1.11803399 m / s&gt;</span>
</pre></div>
</div>
<p>This includes functions that only accept specific units such as angles:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="mf">30.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">deg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>  
<span class="go">&lt;Quantity 0.5&gt;</span>
</pre></div>
</div>
<p>Or <a class="reference internal" href="#dimensionless-quantities">Dimensionless Quantities</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.constants</span> <span class="kn">import</span> <span class="n">h</span><span class="p">,</span> <span class="n">k_B</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nu</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">GHz</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">T</span> <span class="o">=</span> <span class="mi">30</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">K</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">h</span> <span class="o">*</span> <span class="n">nu</span> <span class="o">/</span> <span class="p">(</span><span class="n">k_B</span> <span class="o">*</span> <span class="n">T</span><span class="p">))</span>  
<span class="go">&lt;Quantity 0.99521225&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Support for functions from other packages, such as <a class="reference external" href="https://www.scipy.org/">scipy</a>, is more
incomplete (contributions to improve this are welcomed!).</p>
</div>
</div>
<div class="section" id="dimensionless-quantities">
<h2>Dimensionless Quantities<a class="headerlink" href="#dimensionless-quantities" title="Permalink to this headline">¶</a></h2>
<p>Dimensionless quantities have the characteristic that if they are
added to or subtracted from a Python scalar or unitless <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>,
or if they are passed to a <code class="docutils literal notranslate"><span class="pre">numpy</span></code> function that takes dimensionless
quantities, the units are simplified so that the quantity is
dimensionless and scale-free. For example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mf">1.</span> <span class="o">+</span> <span class="mf">1.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">km</span>  
<span class="go">&lt;Quantity 1.001&gt;</span>
</pre></div>
</div>
<p>Which is different from:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mf">1.</span> <span class="o">+</span> <span class="p">(</span><span class="mf">1.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">km</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>
<span class="go">2.0</span>
</pre></div>
</div>
<p>In the latter case, the result is <code class="docutils literal notranslate"><span class="pre">2.0</span></code> because the unit of <code class="docutils literal notranslate"><span class="pre">(1.</span> <span class="pre">*</span> <span class="pre">u.m</span> <span class="pre">/</span>
<span class="pre">u.km)</span></code> is not scale-free by default:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">km</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">unit</span>
<span class="go">Unit(&quot;m / km&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">unit</span><span class="o">.</span><span class="n">decompose</span><span class="p">()</span>
<span class="go">Unit(dimensionless with a scale of 0.001)</span>
</pre></div>
</div>
<p>However, when combining with an object that is not a <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a>, the unit is
automatically decomposed to be scale-free, giving the expected result.</p>
<p>This also occurs when passing dimensionless quantities to functions that take
dimensionless quantities:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">nu</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">GHz</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">T</span> <span class="o">=</span> <span class="mi">30</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">K</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span> <span class="n">h</span> <span class="o">*</span> <span class="n">nu</span> <span class="o">/</span> <span class="p">(</span><span class="n">k_B</span> <span class="o">*</span> <span class="n">T</span><span class="p">))</span>  
<span class="go">&lt;Quantity 0.99521225&gt;</span>
</pre></div>
</div>
<p>The result is independent from the units in which the different quantities were
specified:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">nu</span> <span class="o">=</span> <span class="mf">3.e9</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">Hz</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">T</span> <span class="o">=</span> <span class="mi">30</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">K</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span> <span class="n">h</span> <span class="o">*</span> <span class="n">nu</span> <span class="o">/</span> <span class="p">(</span><span class="n">k_B</span> <span class="o">*</span> <span class="n">T</span><span class="p">))</span>  
<span class="go">&lt;Quantity 0.99521225&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="converting-to-plain-python-scalars">
<h2>Converting to Plain Python Scalars<a class="headerlink" href="#converting-to-plain-python-scalars" title="Permalink to this headline">¶</a></h2>
<p>Converting <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> objects does not work for non-dimensionless quantities:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">float</span><span class="p">(</span><span class="mf">3.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">only dimensionless scalar quantities can be converted</span>
<span class="go">to Python scalars</span>
</pre></div>
</div>
<p>Only dimensionless values can be converted to plain Python scalars:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">float</span><span class="p">(</span><span class="mf">3.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">/</span> <span class="p">(</span><span class="mf">4.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">))</span>
<span class="go">0.75</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">float</span><span class="p">(</span><span class="mf">3.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">km</span> <span class="o">/</span> <span class="p">(</span><span class="mf">4.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">))</span>
<span class="go">750.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="mf">6.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">km</span> <span class="o">/</span> <span class="p">(</span><span class="mf">2.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">))</span>
<span class="go">3000</span>
</pre></div>
</div>
</div>
<div class="section" id="functions-that-accept-quantities">
<h2>Functions that Accept Quantities<a class="headerlink" href="#functions-that-accept-quantities" title="Permalink to this headline">¶</a></h2>
<p>If a function accepts a <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> as an argument then it can be a good idea to
check that the provided <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> belongs to one of the expected
<a class="reference internal" href="physical_types.html#physical-types"><span class="std std-ref">Physical Types</span></a>. This can be done with the <a class="reference external" href="https://docs.python.org/3/glossary.html#term-decorator">decorator</a>
<a class="reference internal" href="../api/astropy.units.quantity_input.html#astropy.units.quantity_input" title="astropy.units.quantity_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">quantity_input()</span></code></a>.</p>
<p>The decorator does not convert the input <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> to the desired unit, say
arcseconds to degrees in the example below, it merely checks that such a
conversion is possible, thus verifying that the <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Quantity</span></code></a>
argument can be used in calculations.</p>
<p>Keyword arguments to <a class="reference internal" href="../api/astropy.units.quantity_input.html#astropy.units.quantity_input" title="astropy.units.quantity_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">quantity_input()</span></code></a> specify which
arguments should be validated and what unit they are expected to be compatible
with.</p>
<div class="section" id="id6">
<h3>Examples<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>To verify if a <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> argument can be used in calculations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@u</span><span class="o">.</span><span class="n">quantity_input</span><span class="p">(</span><span class="n">myarg</span><span class="o">=</span><span class="n">u</span><span class="o">.</span><span class="n">deg</span><span class="p">)</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">myfunction</span><span class="p">(</span><span class="n">myarg</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">myarg</span><span class="o">.</span><span class="n">unit</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">myfunction</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">arcsec</span><span class="p">)</span>
<span class="go">Unit(&quot;arcsec&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myfunction</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">)</span>  
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">UnitsError</span>: <span class="n">Argument &#39;myarg&#39; to function &#39;myfunction&#39; must be in units</span>
<span class="go">convertible to &#39;deg&#39;.</span>
</pre></div>
</div>
<p>It is also possible to instead specify the <a class="reference internal" href="physical_types.html#physical-types"><span class="std std-ref">physical type</span></a> of the desired unit:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@u</span><span class="o">.</span><span class="n">quantity_input</span><span class="p">(</span><span class="n">myarg</span><span class="o">=</span><span class="s1">&#39;angle&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">myfunction</span><span class="p">(</span><span class="n">myarg</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">myarg</span><span class="o">.</span><span class="n">unit</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">myfunction</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">arcsec</span><span class="p">)</span>
<span class="go">Unit(&quot;arcsec&quot;)</span>
</pre></div>
</div>
<p>Optionally, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> keyword arguments are also supported; for such cases, the
input is only checked when a value other than <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> is passed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@u</span><span class="o">.</span><span class="n">quantity_input</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="s1">&#39;length&#39;</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="s1">&#39;angle&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">myfunction</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">myfunction</span><span class="p">(</span><span class="mf">1.</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">km</span><span class="p">)</span>  
<span class="go">(&lt;Quantity 1. km&gt;, None)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myfunction</span><span class="p">(</span><span class="mf">1.</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">km</span><span class="p">,</span> <span class="mi">1</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">deg</span><span class="p">)</span>  
<span class="go">(&lt;Quantity 1. km&gt;, &lt;Quantity 1. deg&gt;)</span>
</pre></div>
</div>
<p>Alternatively, you can use the <a class="reference external" href="https://docs.python.org/3/library/typing.html">annotations syntax</a> to provide the units.
While the raw unit or string can be used, the preferred method is with the
unit-aware Quantity-annotation syntax.
This requires Python 3.9 or the package <code class="docutils literal notranslate"><span class="pre">typing_extensions</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">Quantity[unit</span> <span class="pre">or</span> <span class="pre">&quot;string&quot;,</span> <span class="pre">metadata,</span> <span class="pre">...]</span></code>
.. doctest-skip:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@u</span><span class="o">.</span><span class="n">quantity_input</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">myfunction</span><span class="p">(</span><span class="n">myarg</span><span class="p">:</span> <span class="n">u</span><span class="o">.</span><span class="n">Quantity</span><span class="p">[</span><span class="n">u</span><span class="o">.</span><span class="n">arcsec</span><span class="p">]):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">myarg</span><span class="o">.</span><span class="n">unit</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myfunction</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">arcsec</span><span class="p">)</span>
<span class="go">Unit(&quot;arcsec&quot;)</span>
</pre></div>
</div>
<p>You can also annotate for different types in non-unit expecting arguments:
.. doctest-skip:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@u</span><span class="o">.</span><span class="n">quantity_input</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">myfunction</span><span class="p">(</span><span class="n">myarg</span><span class="p">:</span> <span class="n">u</span><span class="o">.</span><span class="n">Quantity</span><span class="p">[</span><span class="n">u</span><span class="o">.</span><span class="n">arcsec</span><span class="p">],</span> <span class="n">nice_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">myarg</span><span class="o">.</span><span class="n">unit</span><span class="p">,</span> <span class="n">nice_string</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myfunction</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">arcsec</span><span class="p">,</span> <span class="s2">&quot;a nice string&quot;</span><span class="p">)</span>
<span class="go">(Unit(&quot;arcsec&quot;), &#39;a nice string&#39;)</span>
</pre></div>
</div>
<p>The output can be specified to have a desired unit with a function annotation,
for example
.. doctest-skip:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@u</span><span class="o">.</span><span class="n">quantity_input</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">myfunction</span><span class="p">(</span><span class="n">myarg</span><span class="p">:</span> <span class="n">u</span><span class="o">.</span><span class="n">Quantity</span><span class="p">[</span><span class="n">u</span><span class="o">.</span><span class="n">arcsec</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">u</span><span class="o">.</span><span class="n">deg</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">myarg</span><span class="o">*</span><span class="mi">1000</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myfunction</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">arcsec</span><span class="p">)</span>  
<span class="go">&lt;Quantity 27.77777778 deg&gt;</span>
</pre></div>
</div>
<p>This both checks that the return value of your function is consistent with what
you expect and makes it much neater to display the results of the function.</p>
<p>Specifying a list of valid equivalent units or <a class="reference internal" href="physical_types.html#physical-types"><span class="std std-ref">Physical Types</span></a> is
supported for functions that should accept inputs with multiple valid units:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@u</span><span class="o">.</span><span class="n">quantity_input</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;length&#39;</span><span class="p">,</span> <span class="s1">&#39;speed&#39;</span><span class="p">])</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">myfunction</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">a</span><span class="o">.</span><span class="n">unit</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">myfunction</span><span class="p">(</span><span class="mf">1.</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">km</span><span class="p">)</span>
<span class="go">Unit(&quot;km&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myfunction</span><span class="p">(</span><span class="mf">1.</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">km</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>
<span class="go">Unit(&quot;km / s&quot;)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="representing-vectors-with-units">
<h2>Representing Vectors with Units<a class="headerlink" href="#representing-vectors-with-units" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> objects can, like <code class="docutils literal notranslate"><span class="pre">numpy</span></code> arrays, be used to represent vectors or
matrices by assigning specific dimensions to represent the coordinates or
matrix elements, but that implies tracking those dimensions carefully. For
vectors <a class="reference internal" href="../coordinates/representations.html#astropy-coordinates-representations"><span class="std std-ref">Using and Designing Coordinate Representations</span></a> can be more convenient as
doing so allows you to use representations other than Cartesian (such as
spherical or cylindrical), as well as simple vector arithmetic.</p>
</div>
<div class="section" id="creating-and-converting-quantities-without-copies">
<span id="astropy-units-quantity-no-copy"></span><h2>Creating and Converting Quantities without Copies<a class="headerlink" href="#creating-and-converting-quantities-without-copies" title="Permalink to this headline">¶</a></h2>
<p>When creating a <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> using multiplication with a unit, a copy of the
underlying data is made. This can be avoided by passing on <code class="docutils literal notranslate"><span class="pre">copy=False</span></code> in
the initializer.</p>
<div class="section" id="id7">
<h3>Examples<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>To avoid duplication using <code class="docutils literal notranslate"><span class="pre">copy=False</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span>  
<span class="go">&lt;Quantity [0., 1., 2., 3., 4.] m&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">may_share_memory</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span>  
<span class="go">&lt;Quantity [-1.,  1.,  2.,  3.,  4.] m&gt;</span>
</pre></div>
</div>
<p>This may be particularly useful in functions which do not change their input
while ensuring that if a user passes in a <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> then it will be converted
to the desired unit.</p>
<p>As a shortcut, you can “shift” to the requested unit using the <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code>
operator:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">a</span> <span class="o">&lt;&lt;</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">may_share_memory</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span>  
<span class="go">&lt;Quantity [-1.,  1.,  2.,  3.,  4.] m&gt;</span>
</pre></div>
</div>
<p>The operator works identically to the initialization with <code class="docutils literal notranslate"><span class="pre">copy=False</span></code>
mentioned above:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">&lt;&lt;</span> <span class="n">u</span><span class="o">.</span><span class="n">cm</span>  
<span class="go">&lt;Quantity [-100.,  100.,  200.,  300.,  400.] cm&gt;</span>
</pre></div>
</div>
<p>It can also be used for in-place conversion:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">&lt;&lt;=</span> <span class="n">u</span><span class="o">.</span><span class="n">cm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span>  
<span class="go">&lt;Quantity [-100.,  100.,  200.,  300.,  400.] cm&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>  
<span class="go">array([-100.,  100.,  200.,  300.,  400.])</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="qtable">
<h2>QTable<a class="headerlink" href="#qtable" title="Permalink to this headline">¶</a></h2>
<p>It is possible to use <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> objects as columns in <a class="reference internal" href="../table/index.html#module-astropy.table" title="astropy.table"><code class="xref py py-mod docutils literal notranslate"><span class="pre">astropy.table</span></code></a>.
See <a class="reference internal" href="../table/mixin_columns.html#quantity-and-qtable"><span class="std std-ref">Quantity and QTable</span></a> for more details.</p>
</div>
<div class="section" id="subclassing-quantity">
<h2>Subclassing Quantity<a class="headerlink" href="#subclassing-quantity" title="Permalink to this headline">¶</a></h2>
<p>To subclass <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a>, you generally proceed as you would when subclassing
<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> (i.e., you typically need to override <code class="docutils literal notranslate"><span class="pre">__new__()</span></code>, rather than
<code class="docutils literal notranslate"><span class="pre">__init__()</span></code>, and use the <code class="docutils literal notranslate"><span class="pre">numpy.ndarray.__array_finalize__()</span></code> method to
update attributes). For details, see the <a class="reference external" href="https://numpy.org/doc/stable/user/basics.subclassing.html">NumPy documentation on subclassing</a>.  To get a sense
of what is involved, have a look at <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> itself, where, for example, the
<code class="docutils literal notranslate"><span class="pre">astropy.units.Quantity.__array_finalize__()</span></code> method is used to pass on the
<code class="docutils literal notranslate"><span class="pre">unit</span></code>, at <a class="reference internal" href="../api/astropy.coordinates.Angle.html#astropy.coordinates.Angle" title="astropy.coordinates.Angle"><code class="xref py py-class docutils literal notranslate"><span class="pre">Angle</span></code></a>, where strings are parsed as
angles in the <code class="docutils literal notranslate"><span class="pre">astropy.coordinates.Angle.__new__()</span></code> method and at
<a class="reference internal" href="../api/astropy.coordinates.Longitude.html#astropy.coordinates.Longitude" title="astropy.coordinates.Longitude"><code class="xref py py-class docutils literal notranslate"><span class="pre">Longitude</span></code></a>, where the
<code class="docutils literal notranslate"><span class="pre">astropy.coordinates.Longitude.__array_finalize__()</span></code> method is used to pass
on the angle at which longitudes wrap.</p>
<p>Another method that is meant to be overridden by subclasses, specific to
<a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a>, is <code class="docutils literal notranslate"><span class="pre">astropy.units.Quantity.__quantity_subclass__()</span></code>. This is
called to decide which type of subclass to return, based on the unit of the
<a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> that is to be created. It is used, for example, in
<a class="reference internal" href="../api/astropy.coordinates.Angle.html#astropy.coordinates.Angle" title="astropy.coordinates.Angle"><code class="xref py py-class docutils literal notranslate"><span class="pre">Angle</span></code></a> to return a <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> if a calculation
returns a unit other than an angular one. The implementation of this is via
<a class="reference internal" href="../api/astropy.units.SpecificTypeQuantity.html#astropy.units.SpecificTypeQuantity" title="astropy.units.SpecificTypeQuantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpecificTypeQuantity</span></code></a>, which more generally allows users
to construct <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a> subclasses that have methods that are useful only for a
specific physical type.</p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">Quantity</a><ul>
<li><a class="reference internal" href="#creating-quantity-instances">Creating Quantity Instances</a><ul>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#converting-to-different-units">Converting to Different Units</a><ul>
<li><a class="reference internal" href="#id2">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#comparing-quantities">Comparing Quantities</a></li>
<li><a class="reference internal" href="#plotting-quantities">Plotting Quantities</a></li>
<li><a class="reference internal" href="#arithmetic">Arithmetic</a><ul>
<li><a class="reference internal" href="#addition-and-subtraction">Addition and Subtraction</a><ul>
<li><a class="reference internal" href="#id4">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#multiplication-and-division">Multiplication and Division</a><ul>
<li><a class="reference internal" href="#id5">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#numpy-functions">NumPy Functions</a></li>
<li><a class="reference internal" href="#dimensionless-quantities">Dimensionless Quantities</a></li>
<li><a class="reference internal" href="#converting-to-plain-python-scalars">Converting to Plain Python Scalars</a></li>
<li><a class="reference internal" href="#functions-that-accept-quantities">Functions that Accept Quantities</a><ul>
<li><a class="reference internal" href="#id6">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#representing-vectors-with-units">Representing Vectors with Units</a></li>
<li><a class="reference internal" href="#creating-and-converting-quantities-without-copies">Creating and Converting Quantities without Copies</a><ul>
<li><a class="reference internal" href="#id7">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#qtable">QTable</a></li>
<li><a class="reference internal" href="#subclassing-quantity">Subclassing Quantity</a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/units/quantity.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2011–2022, The Astropy Developers.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 3.5.4. &nbsp;
    Last built 08 May 2022. <br/>
  </p>
</footer>
  </body>
</html>