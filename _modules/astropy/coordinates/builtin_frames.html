


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>astropy.coordinates.builtin_frames &#8212; Astropy v5.2.dev96+g04a0cf8bb</title>
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-rendered-html.css" />
    
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/sidebar.js"></script>
    <script type="text/javascript" src="../../../_static/copybutton.js"></script>
    <link rel="shortcut icon" href="../../../_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
  
  <meta name="robots" content="noindex, nofollow">
  
  
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>


  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../../../index.html"><span id="logotext1">astro</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../../../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../../../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../../../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li>
	<a href="../../../index.html">Astropy v5.2.dev96+g04a0cf8bb</a>
	 &#187;
      </li>
      <li><a href="../../index.html" accesskey="U">Module code</a> &#187;</li>
      
       
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for astropy.coordinates.builtin_frames</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1"># Licensed under a 3-clause BSD style license - see LICENSE.rst</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">This package contains the coordinate frames implemented by astropy.</span>

<span class="sd">Users shouldn&#39;t use this module directly, but rather import from the</span>
<span class="sd">`astropy.coordinates` module.  While it is likely to exist for the long-term,</span>
<span class="sd">the existence of this package and details of its organization should be</span>
<span class="sd">considered an implementation detail, and is not guaranteed to hold for future</span>
<span class="sd">versions of astropy.</span>

<span class="sd">Notes</span>
<span class="sd">-----</span>
<span class="sd">The builtin frame classes are all imported automatically into this package&#39;s</span>
<span class="sd">namespace, so there&#39;s no need to access the sub-modules directly.</span>

<span class="sd">To implement a new frame in Astropy, a developer should add the frame as a new</span>
<span class="sd">module in this package.  Any &quot;self&quot; transformations (i.e., those that transform</span>
<span class="sd">from one frame to another frame of the same class) should be included in that</span>
<span class="sd">module.  Transformation functions connecting the new frame to other frames</span>
<span class="sd">should be in a separate module, which should be imported in this package&#39;s</span>
<span class="sd">``__init__.py`` to ensure the transformations are hooked up when this package is</span>
<span class="sd">imported.  Placing the transformation functions in separate modules avoids</span>
<span class="sd">circular dependencies, because they need references to the frame classes.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">.baseradec</span> <span class="kn">import</span> <span class="n">BaseRADecFrame</span>
<span class="kn">from</span> <span class="nn">.icrs</span> <span class="kn">import</span> <span class="n">ICRS</span>
<span class="kn">from</span> <span class="nn">.fk5</span> <span class="kn">import</span> <span class="n">FK5</span>
<span class="kn">from</span> <span class="nn">.fk4</span> <span class="kn">import</span> <span class="n">FK4</span><span class="p">,</span> <span class="n">FK4NoETerms</span>
<span class="kn">from</span> <span class="nn">.galactic</span> <span class="kn">import</span> <span class="n">Galactic</span>
<span class="kn">from</span> <span class="nn">.galactocentric</span> <span class="kn">import</span> <span class="n">Galactocentric</span><span class="p">,</span> <span class="n">galactocentric_frame_defaults</span>
<span class="kn">from</span> <span class="nn">.supergalactic</span> <span class="kn">import</span> <span class="n">Supergalactic</span>
<span class="kn">from</span> <span class="nn">.altaz</span> <span class="kn">import</span> <span class="n">AltAz</span>
<span class="kn">from</span> <span class="nn">.hadec</span> <span class="kn">import</span> <span class="n">HADec</span>
<span class="kn">from</span> <span class="nn">.gcrs</span> <span class="kn">import</span> <span class="n">GCRS</span><span class="p">,</span> <span class="n">PrecessedGeocentric</span>
<span class="kn">from</span> <span class="nn">.cirs</span> <span class="kn">import</span> <span class="n">CIRS</span>
<span class="kn">from</span> <span class="nn">.itrs</span> <span class="kn">import</span> <span class="n">ITRS</span>
<span class="kn">from</span> <span class="nn">.hcrs</span> <span class="kn">import</span> <span class="n">HCRS</span>
<span class="kn">from</span> <span class="nn">.equatorial</span> <span class="kn">import</span> <span class="n">TEME</span><span class="p">,</span> <span class="n">TETE</span>

<span class="kn">from</span> <span class="nn">.ecliptic</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># there are a lot of these so we don&#39;t list them all explicitly</span>
<span class="kn">from</span> <span class="nn">.skyoffset</span> <span class="kn">import</span> <span class="n">SkyOffsetFrame</span>
<span class="c1"># need to import transformations so that they get registered in the graph</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">icrs_fk5_transforms</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">fk4_fk5_transforms</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">galactic_transforms</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">supergalactic_transforms</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">icrs_cirs_transforms</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">cirs_observed_transforms</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">icrs_observed_transforms</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">intermediate_rotation_transforms</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">ecliptic_transforms</span>

<span class="c1"># Import this after importing other frames, since this requires various</span>
<span class="c1"># transformtions to set up the LSR frames</span>
<span class="kn">from</span> <span class="nn">.lsr</span> <span class="kn">import</span> <span class="n">LSR</span><span class="p">,</span> <span class="n">GalacticLSR</span><span class="p">,</span> <span class="n">LSRK</span><span class="p">,</span> <span class="n">LSRD</span>

<span class="kn">from</span> <span class="nn">astropy.coordinates.baseframe</span> <span class="kn">import</span> <span class="n">frame_transform_graph</span>

<span class="c1"># we define an __all__ because otherwise the transformation modules</span>
<span class="c1"># get included</span>
<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ICRS&#39;</span><span class="p">,</span> <span class="s1">&#39;FK5&#39;</span><span class="p">,</span> <span class="s1">&#39;FK4&#39;</span><span class="p">,</span> <span class="s1">&#39;FK4NoETerms&#39;</span><span class="p">,</span> <span class="s1">&#39;Galactic&#39;</span><span class="p">,</span> <span class="s1">&#39;Galactocentric&#39;</span><span class="p">,</span>
           <span class="s1">&#39;galactocentric_frame_defaults&#39;</span><span class="p">,</span>
           <span class="s1">&#39;Supergalactic&#39;</span><span class="p">,</span> <span class="s1">&#39;AltAz&#39;</span><span class="p">,</span> <span class="s1">&#39;HADec&#39;</span><span class="p">,</span> <span class="s1">&#39;GCRS&#39;</span><span class="p">,</span> <span class="s1">&#39;CIRS&#39;</span><span class="p">,</span> <span class="s1">&#39;ITRS&#39;</span><span class="p">,</span> <span class="s1">&#39;HCRS&#39;</span><span class="p">,</span>
           <span class="s1">&#39;TEME&#39;</span><span class="p">,</span> <span class="s1">&#39;TETE&#39;</span><span class="p">,</span> <span class="s1">&#39;PrecessedGeocentric&#39;</span><span class="p">,</span> <span class="s1">&#39;GeocentricMeanEcliptic&#39;</span><span class="p">,</span>
           <span class="s1">&#39;BarycentricMeanEcliptic&#39;</span><span class="p">,</span> <span class="s1">&#39;HeliocentricMeanEcliptic&#39;</span><span class="p">,</span>
           <span class="s1">&#39;GeocentricTrueEcliptic&#39;</span><span class="p">,</span> <span class="s1">&#39;BarycentricTrueEcliptic&#39;</span><span class="p">,</span>
           <span class="s1">&#39;HeliocentricTrueEcliptic&#39;</span><span class="p">,</span>
           <span class="s1">&#39;SkyOffsetFrame&#39;</span><span class="p">,</span> <span class="s1">&#39;GalacticLSR&#39;</span><span class="p">,</span> <span class="s1">&#39;LSR&#39;</span><span class="p">,</span> <span class="s1">&#39;LSRK&#39;</span><span class="p">,</span> <span class="s1">&#39;LSRD&#39;</span><span class="p">,</span>
           <span class="s1">&#39;BaseEclipticFrame&#39;</span><span class="p">,</span> <span class="s1">&#39;BaseRADecFrame&#39;</span><span class="p">,</span> <span class="s1">&#39;make_transform_graph_docs&#39;</span><span class="p">,</span>
           <span class="s1">&#39;HeliocentricEclipticIAU76&#39;</span><span class="p">,</span> <span class="s1">&#39;CustomBarycentricEcliptic&#39;</span><span class="p">]</span>


<div class="viewcode-block" id="make_transform_graph_docs"><a class="viewcode-back" href="../../../api/astropy.coordinates.make_transform_graph_docs.html#astropy.coordinates.make_transform_graph_docs">[docs]</a><span class="k">def</span> <span class="nf">make_transform_graph_docs</span><span class="p">(</span><span class="n">transform_graph</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generates a string that can be used in other docstrings to include a</span>
<span class="sd">    transformation graph, showing the available transforms and</span>
<span class="sd">    coordinate systems.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    transform_graph : `~.coordinates.TransformGraph`</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    docstring : str</span>
<span class="sd">        A string that can be added to the end of a docstring to show the</span>
<span class="sd">        transform graph.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">textwrap</span> <span class="kn">import</span> <span class="n">dedent</span>
    <span class="n">coosys</span> <span class="o">=</span> <span class="p">[</span><span class="n">transform_graph</span><span class="o">.</span><span class="n">lookup_name</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span>
              <span class="n">item</span> <span class="ow">in</span> <span class="n">transform_graph</span><span class="o">.</span><span class="n">get_names</span><span class="p">()]</span>

    <span class="c1"># currently, all of the priorities are set to 1, so we don&#39;t need to show</span>
    <span class="c1">#   then in the transform graph.</span>
    <span class="n">graphstr</span> <span class="o">=</span> <span class="n">transform_graph</span><span class="o">.</span><span class="n">to_dot_graph</span><span class="p">(</span><span class="n">addnodes</span><span class="o">=</span><span class="n">coosys</span><span class="p">,</span>
                                            <span class="n">priorities</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">docstr</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    The diagram below shows all of the built in coordinate systems,</span>
<span class="s2">    their aliases (useful for converting other coordinates to them using</span>
<span class="s2">    attribute-style access) and the pre-defined transformations between</span>
<span class="s2">    them.  The user is free to override any of these transformations by</span>
<span class="s2">    defining new transformations between these systems, but the</span>
<span class="s2">    pre-defined transformations should be sufficient for typical usage.</span>

<span class="s2">    The color of an edge in the graph (i.e. the transformations between two</span>
<span class="s2">    frames) is set by the type of transformation; the legend box defines the</span>
<span class="s2">    mapping from transform class name to color.</span>

<span class="s2">    .. Wrap the graph in a div with a custom class to allow themeing.</span>
<span class="s2">    .. container:: frametransformgraph</span>

<span class="s2">        .. graphviz::</span>

<span class="s2">    &quot;&quot;&quot;</span>

    <span class="n">docstr</span> <span class="o">=</span> <span class="n">dedent</span><span class="p">(</span><span class="n">docstr</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;        &#39;</span> <span class="o">+</span> <span class="n">graphstr</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">        &#39;</span><span class="p">)</span>

    <span class="c1"># colors are in dictionary at the bottom of transformations.py</span>
    <span class="kn">from</span> <span class="nn">astropy.coordinates.transformations</span> <span class="kn">import</span> <span class="n">trans_to_color</span>
    <span class="n">html_list_items</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="bp">cls</span><span class="p">,</span> <span class="n">color</span> <span class="ow">in</span> <span class="n">trans_to_color</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">block</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            &lt;li style=&#39;list-style: none;&#39;&gt;</span>
<span class="s2">                &lt;p style=&quot;font-size: 12px;line-height: 24px;font-weight: normal;color: #848484;padding: 0;margin: 0;&quot;&gt;</span>
<span class="s2">                    &lt;b&gt;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">:&lt;/b&gt;</span>
<span class="s2">                    &lt;span style=&quot;font-size: 24px; color: </span><span class="si">{</span><span class="n">color</span><span class="si">}</span><span class="s2">;&quot;&gt;&lt;b&gt;➝&lt;/b&gt;&lt;/span&gt;</span>
<span class="s2">                &lt;/p&gt;</span>
<span class="s2">            &lt;/li&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span>
        <span class="n">html_list_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">block</span><span class="p">)</span>

    <span class="n">nl</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="n">graph_legend</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    .. raw:: html</span>

<span class="s2">        &lt;ul&gt;</span>
<span class="s2">            </span><span class="si">{</span><span class="n">nl</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">html_list_items</span><span class="p">)</span><span class="si">}</span><span class="s2"></span>
<span class="s2">        &lt;/ul&gt;</span>
<span class="s2">    &quot;&quot;&quot;</span>
    <span class="n">docstr</span> <span class="o">=</span> <span class="n">docstr</span> <span class="o">+</span> <span class="n">dedent</span><span class="p">(</span><span class="n">graph_legend</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">docstr</span></div>


<span class="n">_transform_graph_docs</span> <span class="o">=</span> <span class="n">make_transform_graph_docs</span><span class="p">(</span><span class="n">frame_transform_graph</span><span class="p">)</span>

<span class="c1"># Here, we override the module docstring so that sphinx renders the transform</span>
<span class="c1"># graph without the developer documentation in the main docstring above.</span>
<span class="vm">__doc__</span> <span class="o">=</span> <span class="n">_transform_graph_docs</span>
</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right"> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2011–2022, The Astropy Developers.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 3.5.4. &nbsp;
    Last built 09 May 2022. <br/>
  </p>
</footer>
  </body>
</html>