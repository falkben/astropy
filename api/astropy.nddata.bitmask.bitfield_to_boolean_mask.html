


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>bitfield_to_boolean_mask &#8212; Astropy v5.2.dev94+gb1133d712.d20220509</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="interpret_bit_flags" href="astropy.nddata.bitmask.interpret_bit_flags.html" />
    <link rel="prev" title="VarianceUncertainty" href="astropy.nddata.VarianceUncertainty.html" />
  
  <meta name="robots" content="noindex, nofollow">
  
  
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>


  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">astro</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="astropy.nddata.bitmask.interpret_bit_flags.html" title="interpret_bit_flags">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="astropy.nddata.VarianceUncertainty.html" title="VarianceUncertainty">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">Astropy v5.2.dev94+gb1133d712.d20220509</a>
	 &#187;
      </li>
      <li><a href="../nddata/index.html" accesskey="U">N-Dimensional Datasets (<code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.nddata</span></code>)</a> &#187;</li>
      
      <li>bitfield_to_boolean_mask</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="bitfield-to-boolean-mask">
<h1>bitfield_to_boolean_mask<a class="headerlink" href="#bitfield-to-boolean-mask" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="astropy.nddata.bitmask.bitfield_to_boolean_mask">
<code class="sig-prename descclassname"><span class="pre">astropy.nddata.bitmask.</span></code><code class="sig-name descname"><span class="pre">bitfield_to_boolean_mask</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bitfield</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flip_bits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">good_mask_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">numpy.bool_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/astropy/nddata/bitmask.html#bitfield_to_boolean_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#astropy.nddata.bitmask.bitfield_to_boolean_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts an array of bit fields to a boolean (or integer) mask array
according to a bit mask constructed from the supplied bit flags (see
<code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> parameter).</p>
<p>This function is particularly useful to convert data quality arrays to
boolean masks with selective filtering of DQ flags.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>bitfield</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>An array of bit flags. By default, values different from zero are
interpreted as “bad” values and values equal to zero are considered
as “good” values. However, see <code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> parameter on how to
selectively ignore some bits in the <code class="docutils literal notranslate"><span class="pre">bitfield</span></code> array data.</p>
</dd>
<dt><strong>ignore_flags</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">list</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">None</span></code></a> (default = 0)</span></dt><dd><p>An integer bit mask, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>, a Python list of bit flags, a comma-,
or <code class="docutils literal notranslate"><span class="pre">'|'</span></code>-separated, <code class="docutils literal notranslate"><span class="pre">'+'</span></code>-separated string list of integer
bit flags or mnemonic flag names that indicate what bits in the input
<code class="docutils literal notranslate"><span class="pre">bitfield</span></code> should be <em>ignored</em> (i.e., zeroed), or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When <code class="docutils literal notranslate"><span class="pre">bit_flags</span></code> is a list of flag names, the <code class="docutils literal notranslate"><span class="pre">flag_name_map</span></code>
parameter must be provided.</p>
</div>
<div class="line-block">
<div class="line">Setting <code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> to <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> effectively will make
<a class="reference internal" href="#astropy.nddata.bitmask.bitfield_to_boolean_mask" title="astropy.nddata.bitmask.bitfield_to_boolean_mask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bitfield_to_boolean_mask</span></code></a> interpret all <code class="docutils literal notranslate"><span class="pre">bitfield</span></code> elements
as “good” regardless of their value.</div>
</div>
<div class="line-block">
<div class="line">When <code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> argument is an integer bit mask, it will be
combined using bitwise-NOT and bitwise-AND with each element of the
input <code class="docutils literal notranslate"><span class="pre">bitfield</span></code> array (<code class="docutils literal notranslate"><span class="pre">~ignore_flags</span> <span class="pre">&amp;</span> <span class="pre">bitfield</span></code>). If the
resultant bitfield element is non-zero, that element will be
interpreted as a “bad” in the output boolean mask and it will be
interpreted as “good” otherwise. <code class="docutils literal notranslate"><span class="pre">flip_bits</span></code> parameter may be used
to flip the bits (<code class="docutils literal notranslate"><span class="pre">bitwise-NOT</span></code>) of the bit mask thus effectively
changing the meaning of the <code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> parameter from “ignore”
to “use only” these flags.</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Setting <code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> to 0 effectively will assume that all
non-zero elements in the input <code class="docutils literal notranslate"><span class="pre">bitfield</span></code> array are to be
interpreted as “bad”.</p>
</div>
<div class="line-block">
<div class="line">When <code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> argument is a Python list of integer bit
flags, these flags are added together to create an integer bit mask.
Each item in the list must be a flag, i.e., an integer that is an
integer power of 2. In order to flip the bits of the resultant
bit mask, use <code class="docutils literal notranslate"><span class="pre">flip_bits</span></code> parameter.</div>
</div>
<div class="line-block">
<div class="line">Alternatively, <code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> may be a string of comma- or
<code class="docutils literal notranslate"><span class="pre">'+'``(or</span> <span class="pre">``'|'</span></code>)-separated list of integer bit flags that should
be added (bitwise OR) together to create an integer bit mask.
For example, both <code class="docutils literal notranslate"><span class="pre">'4,8'</span></code>, <code class="docutils literal notranslate"><span class="pre">'4|8'</span></code>, and <code class="docutils literal notranslate"><span class="pre">'4+8'</span></code> are equivalent
and indicate that bit flags 4 and 8 in the input <code class="docutils literal notranslate"><span class="pre">bitfield</span></code>
array should be ignored when generating boolean mask.</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">'None'</span></code>, <code class="docutils literal notranslate"><span class="pre">'INDEF'</span></code>, and empty (or all white space) strings
are special values of string <code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> that are
interpreted as <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Each item in the list must be a flag, i.e., an integer that is an
integer power of 2. In addition, for convenience, an arbitrary
<strong>single</strong> integer is allowed and it will be interpreted as an
integer bit mask. For example, instead of <code class="docutils literal notranslate"><span class="pre">'4,8'</span></code> one could
simply provide string <code class="docutils literal notranslate"><span class="pre">'12'</span></code>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only one flag separator is supported at a time. <code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code>
string should not mix <code class="docutils literal notranslate"><span class="pre">','</span></code>, <code class="docutils literal notranslate"><span class="pre">'+'</span></code>, and <code class="docutils literal notranslate"><span class="pre">'|'</span></code> separators.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When <code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> is a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> and when it is prepended with
‘~’, then the meaning of <code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> parameters will be
reversed: now it will be interpreted as a list of bit flags to be
<em>used</em> (or <em>not ignored</em>) when deciding which elements of the
input <code class="docutils literal notranslate"><span class="pre">bitfield</span></code> array are “bad”. Following this convention,
an <code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> string value of <code class="docutils literal notranslate"><span class="pre">'~0'</span></code> would be equivalent
to setting <code class="docutils literal notranslate"><span class="pre">ignore_flags=None</span></code>.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Because prepending ‘~’ to a string <code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> is equivalent
to setting <code class="docutils literal notranslate"><span class="pre">flip_bits</span></code> to <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>, <code class="docutils literal notranslate"><span class="pre">flip_bits</span></code> cannot be used
with string <code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> and it must be set to <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
</div>
</dd>
<dt><strong>flip_bits</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bltin-boolean-values" title="(in Python v3.10)"><span class="xref std std-ref">bool</span></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">None</span></code></a> (default = <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">None</span></code></a>)</span></dt><dd><p>Specifies whether or not to invert the bits of the bit mask either
supplied directly through <code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> parameter or built from the
bit flags passed through <code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> (only when bit flags are
passed as Python lists of integer bit flags). Occasionally, it may be
useful to <em>consider only specific bit flags</em> in the <code class="docutils literal notranslate"><span class="pre">bitfield</span></code>
array when creating a boolean mask as opposed to <em>ignoring</em> specific
bit flags as <code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> behaves by default. This can be achieved
by inverting/flipping the bits of the bit mask created from
<code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> flags which effectively changes the meaning of the
<code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> parameter from “ignore” to “use only” these flags.
Setting <code class="docutils literal notranslate"><span class="pre">flip_bits</span></code> to <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> means that no bit flipping will be
performed. Bit flipping for string lists of bit flags must be
specified by prepending ‘~’ to string bit flag lists
(see documentation for <code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> for more details).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This parameter can be set to either <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> <strong>ONLY</strong> when
<code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> is either an integer bit mask or a Python
list of integer bit flags. When <code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> is either
<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> or a string list of flags, <code class="docutils literal notranslate"><span class="pre">flip_bits</span></code> <strong>MUST</strong> be set
to <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
</div>
</dd>
<dt><strong>good_mask_value</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bltin-boolean-values" title="(in Python v3.10)"><span class="xref std std-ref">bool</span></a> (default = <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">False</span></code></a>)</span></dt><dd><p>This parameter is used to derive the values that will be assigned to
the elements in the output boolean mask array that correspond to the
“good” bit fields (that are 0 after zeroing bits specified by
<code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code>) in the input <code class="docutils literal notranslate"><span class="pre">bitfield</span></code> array. When
<code class="docutils literal notranslate"><span class="pre">good_mask_value</span></code> is non-zero or <code class="docutils literal notranslate"><span class="pre">numpy.True_</span></code> then values in the
output boolean mask array corresponding to “good” bit fields in
<code class="docutils literal notranslate"><span class="pre">bitfield</span></code> will be <code class="docutils literal notranslate"><span class="pre">numpy.True_</span></code> (if <code class="docutils literal notranslate"><span class="pre">dtype</span></code> is <code class="docutils literal notranslate"><span class="pre">numpy.bool_</span></code>)
or 1 (if <code class="docutils literal notranslate"><span class="pre">dtype</span></code> is of numerical type) and values of corresponding
to “bad” flags will be <code class="docutils literal notranslate"><span class="pre">numpy.False_</span></code> (or 0). When
<code class="docutils literal notranslate"><span class="pre">good_mask_value</span></code> is zero or <code class="docutils literal notranslate"><span class="pre">numpy.False_</span></code> then the values
in the output boolean mask array corresponding to “good” bit fields
in <code class="docutils literal notranslate"><span class="pre">bitfield</span></code> will be <code class="docutils literal notranslate"><span class="pre">numpy.False_</span></code> (if <code class="docutils literal notranslate"><span class="pre">dtype</span></code> is
<code class="docutils literal notranslate"><span class="pre">numpy.bool_</span></code>) or 0 (if <code class="docutils literal notranslate"><span class="pre">dtype</span></code> is of numerical type) and values
of corresponding to “bad” flags will be <code class="docutils literal notranslate"><span class="pre">numpy.True_</span></code> (or 1).</p>
</dd>
<dt><strong>dtype</strong><span class="classifier">data-type (default = <code class="docutils literal notranslate"><span class="pre">numpy.bool_</span></code>)</span></dt><dd><p>The desired data-type for the output binary mask array.</p>
</dd>
<dt><strong>flag_name_map</strong><span class="classifier"><a class="reference internal" href="astropy.nddata.bitmask.BitFlagNameMap.html#astropy.nddata.bitmask.BitFlagNameMap" title="astropy.nddata.bitmask.BitFlagNameMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BitFlagNameMap</span></code></a></span></dt><dd><p>A <a class="reference internal" href="astropy.nddata.bitmask.BitFlagNameMap.html#astropy.nddata.bitmask.BitFlagNameMap" title="astropy.nddata.bitmask.BitFlagNameMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BitFlagNameMap</span></code></a> object that provides mapping from mnemonic
bit flag names to integer bit values in order to translate mnemonic
flags to numeric values when <code class="docutils literal notranslate"><span class="pre">bit_flags</span></code> that are comma- or
‘+’-separated list of menmonic bit flag names.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>mask</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>Returns an array of the same dimensionality as the input <code class="docutils literal notranslate"><span class="pre">bitfield</span></code>
array whose elements can have two possible values,
e.g., <code class="docutils literal notranslate"><span class="pre">numpy.True_</span></code> or <code class="docutils literal notranslate"><span class="pre">numpy.False_</span></code> (or 1 or 0 for integer
<code class="docutils literal notranslate"><span class="pre">dtype</span></code>) according to values of to the input <code class="docutils literal notranslate"><span class="pre">bitfield</span></code> elements,
<code class="docutils literal notranslate"><span class="pre">ignore_flags</span></code> parameter, and the <code class="docutils literal notranslate"><span class="pre">good_mask_value</span></code> parameter.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.nddata</span> <span class="kn">import</span> <span class="n">bitmask</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dqarr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_map</span> <span class="o">=</span> <span class="n">bitmask</span><span class="o">.</span><span class="n">extend_bit_flag_map</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;ST_DQ&#39;</span><span class="p">,</span> <span class="n">CR</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">CLOUDY</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">RAINY</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">HOT</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">DEAD</span><span class="o">=</span><span class="mi">32</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bitmask</span><span class="o">.</span><span class="n">bitfield_to_boolean_mask</span><span class="p">(</span><span class="n">dqarr</span><span class="p">,</span> <span class="n">ignore_flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="go">array([[0, 0, 1, 1, 0, 1, 1, 0],</span>
<span class="go">       [1, 1, 0, 0, 0, 1, 1, 0]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bitmask</span><span class="o">.</span><span class="n">bitfield_to_boolean_mask</span><span class="p">(</span><span class="n">dqarr</span><span class="p">,</span> <span class="n">ignore_flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>
<span class="go">array([[False, False,  True,  True, False,  True,  True, False],</span>
<span class="go">       [ True,  True, False, False, False,  True,  True, False]]...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bitmask</span><span class="o">.</span><span class="n">bitfield_to_boolean_mask</span><span class="p">(</span><span class="n">dqarr</span><span class="p">,</span> <span class="n">ignore_flags</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="n">good_mask_value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="go">array([[0, 0, 1, 0, 0, 1, 1, 0],</span>
<span class="go">       [1, 0, 0, 0, 0, 1, 0, 0]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bitmask</span><span class="o">.</span><span class="n">bitfield_to_boolean_mask</span><span class="p">(</span><span class="n">dqarr</span><span class="p">,</span> <span class="n">ignore_flags</span><span class="o">=~</span><span class="mi">6</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="n">good_mask_value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="go">array([[0, 0, 0, 1, 0, 0, 1, 0],</span>
<span class="go">       [1, 1, 0, 0, 0, 0, 1, 0]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bitmask</span><span class="o">.</span><span class="n">bitfield_to_boolean_mask</span><span class="p">(</span><span class="n">dqarr</span><span class="p">,</span> <span class="n">ignore_flags</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="n">flip_bits</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">good_mask_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">array([[0, 0, 0, 1, 0, 0, 1, 0],</span>
<span class="go">       [1, 1, 0, 0, 0, 0, 1, 0]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bitmask</span><span class="o">.</span><span class="n">bitfield_to_boolean_mask</span><span class="p">(</span><span class="n">dqarr</span><span class="p">,</span> <span class="n">ignore_flags</span><span class="o">=</span><span class="s1">&#39;~(2+4)&#39;</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="n">good_mask_value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="go">array([[0, 0, 0, 1, 0, 0, 1, 0],</span>
<span class="go">       [1, 1, 0, 0, 0, 0, 1, 0]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bitmask</span><span class="o">.</span><span class="n">bitfield_to_boolean_mask</span><span class="p">(</span><span class="n">dqarr</span><span class="p">,</span> <span class="n">ignore_flags</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="gp">... </span>                                 <span class="n">flip_bits</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">good_mask_value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="go">array([[0, 0, 0, 1, 0, 0, 1, 0],</span>
<span class="go">       [1, 1, 0, 0, 0, 0, 1, 0]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bitmask</span><span class="o">.</span><span class="n">bitfield_to_boolean_mask</span><span class="p">(</span><span class="n">dqarr</span><span class="p">,</span> <span class="n">ignore_flags</span><span class="o">=</span><span class="s1">&#39;~(CR,CLOUDY)&#39;</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="n">good_mask_value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="n">flag_name_map</span><span class="o">=</span><span class="n">flag_map</span><span class="p">)</span>
<span class="go">array([[0, 0, 0, 1, 0, 0, 1, 0],</span>
<span class="go">       [1, 1, 0, 0, 0, 0, 1, 0]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bitmask</span><span class="o">.</span><span class="n">bitfield_to_boolean_mask</span><span class="p">(</span><span class="n">dqarr</span><span class="p">,</span> <span class="n">ignore_flags</span><span class="o">=</span><span class="s1">&#39;~(CR+CLOUDY)&#39;</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="n">good_mask_value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="n">flag_name_map</span><span class="o">=</span><span class="n">flag_map</span><span class="p">)</span>
<span class="go">array([[0, 0, 0, 1, 0, 0, 1, 0],</span>
<span class="go">       [1, 1, 0, 0, 0, 0, 1, 0]])</span>
</pre></div>
</div>
</dd></dl>

</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">bitfield_to_boolean_mask</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/api/astropy.nddata.bitmask.bitfield_to_boolean_mask.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2011–2022, The Astropy Developers.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 3.5.4. &nbsp;
    Last built 09 May 2022. <br/>
  </p>
</footer>
  </body>
</html>