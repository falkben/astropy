


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>get_readable_fileobj &#8212; Astropy v5.2.dev96+g04a0cf8bb</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="get_pkg_data_fileobj" href="astropy.utils.data.get_pkg_data_fileobj.html" />
    <link rel="prev" title="download_files_in_parallel" href="astropy.utils.data.download_files_in_parallel.html" />
  
  <meta name="robots" content="noindex, nofollow">
  
  
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>


  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">astro</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="astropy.utils.data.get_pkg_data_fileobj.html" title="get_pkg_data_fileobj">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="astropy.utils.data.download_files_in_parallel.html" title="download_files_in_parallel">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">Astropy v5.2.dev96+g04a0cf8bb</a>
	 &#187;
      </li>
      <li><a href="../utils/index.html" accesskey="U">Astropy Core Package Utilities (<code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.utils</span></code>)</a> &#187;</li>
      
      <li>get_readable_fileobj</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="get-readable-fileobj">
<h1>get_readable_fileobj<a class="headerlink" href="#get-readable-fileobj" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="astropy.utils.data.get_readable_fileobj">
<code class="sig-prename descclassname"><span class="pre">astropy.utils.data.</span></code><code class="sig-name descname"><span class="pre">get_readable_fileobj</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_or_obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote_timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sources</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">http_headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/astropy/utils/data.html#get_readable_fileobj"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#astropy.utils.data.get_readable_fileobj" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield a readable, seekable file-like object from a file or URL.</p>
<p>This supports passing filenames, URLs, and readable file-like objects,
any of which can be compressed in gzip, bzip2 or lzma (xz) if the
appropriate compression libraries are provided by the Python installation.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>name_or_obj</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3/glossary.html#term-file-like-object" title="(in Python v3.10)"><span>file-like object</span></a></span></dt><dd><p>The filename of the file to access (if given as a string), or
the file-like object to access.</p>
<p>If a file-like object, it must be opened in binary mode.</p>
</dd>
<dt><strong>encoding</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">str</span></code></a>, optional</span></dt><dd><p>When <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> (default), returns a file-like object with a
<code class="docutils literal notranslate"><span class="pre">read</span></code> method that returns <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> (<code class="docutils literal notranslate"><span class="pre">unicode</span></code>) objects, using
<a class="reference external" href="https://docs.python.org/3/library/locale.html#locale.getpreferredencoding" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">locale.getpreferredencoding</span></code></a> as an encoding.  This matches
the default behavior of the built-in <a class="reference external" href="https://docs.python.org/3/library/functions.html#open" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">open</span></code></a> when no <code class="docutils literal notranslate"><span class="pre">mode</span></code>
argument is provided.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">'binary'</span></code>, returns a file-like object where its <code class="docutils literal notranslate"><span class="pre">read</span></code>
method returns <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code></a> objects.</p>
<p>When another string, it is the name of an encoding, and the
file-like object’s <code class="docutils literal notranslate"><span class="pre">read</span></code> method will return <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> (<code class="docutils literal notranslate"><span class="pre">unicode</span></code>)
objects, decoded from binary using the given encoding.</p>
</dd>
<dt><strong>cache</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bltin-boolean-values" title="(in Python v3.10)"><span class="xref std std-ref">bool</span></a> or “update”, optional</span></dt><dd><p>Whether to cache the contents of remote URLs. If “update”,
check the remote URL for a new version but store the result
in the cache.</p>
</dd>
<dt><strong>show_progress</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bltin-boolean-values" title="(in Python v3.10)"><span class="xref std std-ref">bool</span></a>, optional</span></dt><dd><p>Whether to display a progress bar if the file is downloaded
from a remote server.  Default is <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>.</p>
</dd>
<dt><strong>remote_timeout</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">float</span></code></a></span></dt><dd><p>Timeout for remote requests in seconds (default is the configurable
<a class="reference internal" href="astropy.utils.data.Conf.html#astropy.utils.data.Conf.remote_timeout" title="astropy.utils.data.Conf.remote_timeout"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.utils.data.Conf.remote_timeout</span></code></a>).</p>
</dd>
<dt><strong>sources</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">str</span></code></a>, optional</span></dt><dd><p>If provided, a list of URLs to try to obtain the file from. The
result will be stored under the original URL. The original URL
will <em>not</em> be tried unless it is in this list; this is to prevent
long waits for a primary server that is known to be inaccessible
at the moment.</p>
</dd>
<dt><strong>http_headers</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">dict</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="docutils literal notranslate"><span class="pre">None</span></code></a></span></dt><dd><p>HTTP request headers to pass into <code class="docutils literal notranslate"><span class="pre">urlopen</span></code> if needed. (These headers
are ignored if the protocol for the <code class="docutils literal notranslate"><span class="pre">name_or_obj</span></code>/<code class="docutils literal notranslate"><span class="pre">sources</span></code> entry
is not a remote HTTP URL.) In the default case (None), the headers are
<code class="docutils literal notranslate"><span class="pre">User-Agent:</span> <span class="pre">some_value</span></code> and <code class="docutils literal notranslate"><span class="pre">Accept:</span> <span class="pre">*/*</span></code>, where <code class="docutils literal notranslate"><span class="pre">some_value</span></code>
is set by <code class="docutils literal notranslate"><span class="pre">astropy.utils.data.conf.default_http_user_agent</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>file</strong><span class="classifier"><a class="reference internal" href="../glossary.html#term-readable-file-like-object"><span class="xref std std-term">readable file-like object</span></a> <a class="reference external" href="https://docs.python.org/3/glossary.html#term-file-like-object" title="(in Python v3.10)"><span>file-like object</span></a></span></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function is a context manager, and should be used for example
as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">get_readable_fileobj</span><span class="p">(</span><span class="s1">&#39;file.dat&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">contents</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
<p>If a URL is provided and the cache is in use, the provided URL will be the
name used in the cache. The contents may already be stored in the cache
under this URL provided, they may be downloaded from this URL, or they may
be downloaded from one of the locations listed in <code class="docutils literal notranslate"><span class="pre">sources</span></code>. See
<a class="reference internal" href="astropy.utils.data.download_file.html#astropy.utils.data.download_file" title="astropy.utils.data.download_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">download_file</span></code></a> for details.</p>
</dd></dl>

</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">get_readable_fileobj</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/api/astropy.utils.data.get_readable_fileobj.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2011–2022, The Astropy Developers.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 3.5.4. &nbsp;
    Last built 09 May 2022. <br/>
  </p>
</footer>
  </body>
</html>