


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Transforming between Systems &#8212; Astropy v5.2.dev96+g04a0cf8bb</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Solar System Ephemerides" href="solarsystem.html" />
    <link rel="prev" title="Using the SkyCoord High-Level Class" href="skycoord.html" />
  
  <meta name="robots" content="noindex, nofollow">
  
  
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>


  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">astro</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="solarsystem.html" title="Solar System Ephemerides">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="skycoord.html" title="Using the SkyCoord High-Level Class">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">Astropy v5.2.dev96+g04a0cf8bb</a>
	 &#187;
      </li>
      <li><a href="index.html" accesskey="U">Astronomical Coordinate Systems (<code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.coordinates</span></code>)</a> &#187;</li>
      
      <li>Transforming between Systems</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="transforming-between-systems">
<span id="astropy-coordinates-transforming"></span><h1>Transforming between Systems<a class="headerlink" href="#transforming-between-systems" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="index.html#module-astropy.coordinates" title="astropy.coordinates"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.coordinates</span></code></a> supports a rich system for transforming
coordinates from one frame to another. While common astronomy frames
are built into Astropy, the transformation infrastructure is dynamic.
This means it allows users to define new coordinate frames and their
transformations. The topic of writing your own coordinate frame or
transforms is detailed in <a class="reference internal" href="frames.html#astropy-coordinates-design"><span class="std std-ref">Defining a New Frame</span></a>, and this
section is focused on how to <em>use</em> transformations.</p>
<p>The full list of built-in coordinate frames, the included transformations,
and the frame names are shown as a (clickable) graph in the
<a class="reference internal" href="index.html#module-astropy.coordinates" title="astropy.coordinates"><code class="xref py py-obj docutils literal notranslate"><span class="pre">coordinates</span></code></a> API documentation.</p>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>The recommended method of transformation is shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">astropy.units</span> <span class="k">as</span> <span class="nn">u</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.coordinates</span> <span class="kn">import</span> <span class="n">SkyCoord</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gc</span> <span class="o">=</span> <span class="n">SkyCoord</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="mi">0</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">degree</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">45</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">degree</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="s1">&#39;galactic&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gc</span><span class="o">.</span><span class="n">fk5</span>  
<span class="go">&lt;SkyCoord (FK5: equinox=J2000.000): (ra, dec) in deg</span>
<span class="go">    ( 229.27251463, -1.12844288)&gt;</span>
</pre></div>
</div>
<p>While this appears to be ordinary attribute-style access, it is actually
syntactic sugar for the more general
<a class="reference internal" href="../api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord.transform_to" title="astropy.coordinates.SkyCoord.transform_to"><code class="xref py py-meth docutils literal notranslate"><span class="pre">transform_to()</span></code></a> method, which can
accept either a frame name, class, or instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.coordinates</span> <span class="kn">import</span> <span class="n">FK5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gc</span><span class="o">.</span><span class="n">transform_to</span><span class="p">(</span><span class="s1">&#39;fk5&#39;</span><span class="p">)</span>  
<span class="go">&lt;SkyCoord (FK5: equinox=J2000.000): (ra, dec) in deg</span>
<span class="go">    ( 229.27251463, -1.12844288)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gc</span><span class="o">.</span><span class="n">transform_to</span><span class="p">(</span><span class="n">FK5</span><span class="p">)</span>  
<span class="go">&lt;SkyCoord (FK5: equinox=J2000.000): (ra, dec) in deg</span>
<span class="go">    ( 229.27251463, -1.12844288)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gc</span><span class="o">.</span><span class="n">transform_to</span><span class="p">(</span><span class="n">FK5</span><span class="p">(</span><span class="n">equinox</span><span class="o">=</span><span class="s1">&#39;J1980.0&#39;</span><span class="p">))</span>  
<span class="go">&lt;SkyCoord (FK5: equinox=J1980.000): (ra, dec) in deg</span>
<span class="go">    ( 229.0146935, -1.05560349)&gt;</span>
</pre></div>
</div>
<p>As a convenience, it is also possible to use a <a class="reference internal" href="../api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="astropy.coordinates.SkyCoord"><code class="xref py py-class docutils literal notranslate"><span class="pre">SkyCoord</span></code></a> object as the frame in
<a class="reference internal" href="../api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord.transform_to" title="astropy.coordinates.SkyCoord.transform_to"><code class="xref py py-meth docutils literal notranslate"><span class="pre">transform_to()</span></code></a>. This allows for putting one
coordinate object into the frame of another:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">SkyCoord</span><span class="p">(</span><span class="n">ra</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">dec</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;deg&#39;</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="n">FK5</span><span class="p">,</span> <span class="n">equinox</span><span class="o">=</span><span class="s1">&#39;J1980.0&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gc</span><span class="o">.</span><span class="n">transform_to</span><span class="p">(</span><span class="n">sc</span><span class="p">)</span>  
<span class="go">&lt;SkyCoord (FK5: equinox=J1980.000): (ra, dec) in deg</span>
<span class="go">    ( 229.0146935, -1.05560349)&gt;</span>
</pre></div>
</div>
<p>Some coordinate frames (including <a class="reference internal" href="../api/astropy.coordinates.FK5.html#astropy.coordinates.FK5" title="astropy.coordinates.FK5"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FK5</span></code></a>,
<a class="reference internal" href="../api/astropy.coordinates.FK4.html#astropy.coordinates.FK4" title="astropy.coordinates.FK4"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FK4</span></code></a>, and <a class="reference internal" href="../api/astropy.coordinates.FK4NoETerms.html#astropy.coordinates.FK4NoETerms" title="astropy.coordinates.FK4NoETerms"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FK4NoETerms</span></code></a>) support
“self transformations,” meaning the <em>type</em> of frame does not change, but the
frame attributes do. An example is precessing a coordinate from one equinox
to another in an equatorial frame. This is done by passing <code class="docutils literal notranslate"><span class="pre">transform_to</span></code> a
frame class with the relevant attributes, as shown below. Note that these
frames use a default equinox if you do not specify one:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fk5c</span> <span class="o">=</span> <span class="n">SkyCoord</span><span class="p">(</span><span class="s1">&#39;02h31m49.09s&#39;</span><span class="p">,</span> <span class="s1">&#39;+89d15m50.8s&#39;</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="n">FK5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fk5c</span><span class="o">.</span><span class="n">equinox</span>
<span class="go">&lt;Time object: scale=&#39;tt&#39; format=&#39;jyear_str&#39; value=J2000.000&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fk5c</span>  
<span class="go">&lt;SkyCoord (FK5: equinox=J2000.000): (ra, dec) in deg</span>
<span class="go">    ( 37.95454167,  89.26411111)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fk5_2005</span> <span class="o">=</span> <span class="n">FK5</span><span class="p">(</span><span class="n">equinox</span><span class="o">=</span><span class="s1">&#39;J2005&#39;</span><span class="p">)</span>  <span class="c1"># String initializes an astropy.time.Time object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fk5c</span><span class="o">.</span><span class="n">transform_to</span><span class="p">(</span><span class="n">fk5_2005</span><span class="p">)</span>  
<span class="go">&lt;SkyCoord (FK5: equinox=J2005.000): (ra, dec) in deg</span>
<span class="go">    ( 39.39317639,  89.28584422)&gt;</span>
</pre></div>
</div>
<p>You can also specify the equinox when you create a coordinate using a
<a class="reference internal" href="../api/astropy.time.Time.html#astropy.time.Time" title="astropy.time.Time"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Time</span></code></a> object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.time</span> <span class="kn">import</span> <span class="n">Time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fk5c</span> <span class="o">=</span> <span class="n">SkyCoord</span><span class="p">(</span><span class="s1">&#39;02h31m49.09s&#39;</span><span class="p">,</span> <span class="s1">&#39;+89d15m50.8s&#39;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">frame</span><span class="o">=</span><span class="n">FK5</span><span class="p">(</span><span class="n">equinox</span><span class="o">=</span><span class="n">Time</span><span class="p">(</span><span class="s1">&#39;J1970&#39;</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fk5_2000</span> <span class="o">=</span> <span class="n">FK5</span><span class="p">(</span><span class="n">equinox</span><span class="o">=</span><span class="n">Time</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;jyear&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fk5c</span><span class="o">.</span><span class="n">transform_to</span><span class="p">(</span><span class="n">fk5_2000</span><span class="p">)</span>  
<span class="go">&lt;SkyCoord (FK5: equinox=2000.0): (ra, dec) in deg</span>
<span class="go">    ( 48.023171,  89.38672485)&gt;</span>
</pre></div>
</div>
<p>The same lower-level frame classes also have a
<a class="reference internal" href="../api/astropy.coordinates.BaseCoordinateFrame.html#astropy.coordinates.BaseCoordinateFrame.transform_to" title="astropy.coordinates.BaseCoordinateFrame.transform_to"><code class="xref py py-meth docutils literal notranslate"><span class="pre">transform_to()</span></code></a> method
that works the same as above, but they do not support attribute-style
access. They are also subtly different in that they only use frame
attributes present in the initial or final frame, while <a class="reference internal" href="../api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="astropy.coordinates.SkyCoord"><code class="xref py py-class docutils literal notranslate"><span class="pre">SkyCoord</span></code></a>
objects use any frame attributes they have for all transformation
steps. So <a class="reference internal" href="../api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="astropy.coordinates.SkyCoord"><code class="xref py py-class docutils literal notranslate"><span class="pre">SkyCoord</span></code></a> can always transform from one frame to another and
back again without change, while low-level classes may lose information
and hence often do not round-trip.</p>
<div class="section" id="transformations-and-solar-system-ephemerides">
<span id="astropy-coordinates-transforming-ephemerides"></span><h3>Transformations and Solar System Ephemerides<a class="headerlink" href="#transformations-and-solar-system-ephemerides" title="Permalink to this headline">¶</a></h3>
<p>Some transformations (e.g., the transformation between
<a class="reference internal" href="../api/astropy.coordinates.ICRS.html#astropy.coordinates.ICRS" title="astropy.coordinates.ICRS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ICRS</span></code></a> and <a class="reference internal" href="../api/astropy.coordinates.GCRS.html#astropy.coordinates.GCRS" title="astropy.coordinates.GCRS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GCRS</span></code></a>) require the use of
a Solar System ephemeris to calculate the position and velocity of the Earth
and Sun. By default, transformations are calculated using built-in
<a class="reference external" href="https://github.com/liberfa/erfa">ERFA</a> routines, but they can also use more
precise ones using the JPL ephemerides (which are derived from dynamical
models).</p>
</div>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>To use the JPL ephemerides, use the
<a class="reference internal" href="../api/astropy.coordinates.solar_system_ephemeris.html#astropy.coordinates.solar_system_ephemeris" title="astropy.coordinates.solar_system_ephemeris"><code class="xref py py-obj docutils literal notranslate"><span class="pre">solar_system_ephemeris</span></code></a> context manager, as shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.coordinates</span> <span class="kn">import</span> <span class="n">solar_system_ephemeris</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.coordinates</span> <span class="kn">import</span> <span class="n">GCRS</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">solar_system_ephemeris</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;jpl&#39;</span><span class="p">):</span> 
<span class="gp">... </span>    <span class="n">fk5c</span><span class="o">.</span><span class="n">transform_to</span><span class="p">(</span><span class="n">GCRS</span><span class="p">(</span><span class="n">obstime</span><span class="o">=</span><span class="n">Time</span><span class="p">(</span><span class="s2">&quot;J2000&quot;</span><span class="p">)))</span> 
</pre></div>
</div>
<p>For locations at large distances from the Solar system, using the JPL
ephemerides will make a negligible difference on the order of micro-arcseconds.
For nearby objects, such as the Moon, the difference can be of the
order of milli-arcseconds. For more details about what ephemerides
are available, including the requirements for using JPL ephemerides, see
<a class="reference internal" href="solarsystem.html#astropy-coordinates-solarsystem"><span class="std std-ref">Solar System Ephemerides</span></a>.</p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">Transforming between Systems</a><ul>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#transformations-and-solar-system-ephemerides">Transformations and Solar System Ephemerides</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/coordinates/transforming.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2011–2022, The Astropy Developers.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 3.5.4. &nbsp;
    Last built 09 May 2022. <br/>
  </p>
</footer>
  </body>
</html>