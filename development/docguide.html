


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Writing Documentation &#8212; Astropy v5.2.dev96+g04a0cf8bb</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Astropy Narrative Style Guide: A Writing Resource for Contributors" href="style-guide.html" />
    <link rel="prev" title="Emacs setup for following coding guidelines" href="codeguide_emacs.html" />
  
  <meta name="robots" content="noindex, nofollow">
  
  
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>


  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">astro</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="style-guide.html" title="Astropy Narrative Style Guide: A Writing Resource for Contributors">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="codeguide_emacs.html" title="Emacs setup for following coding guidelines">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">Astropy v5.2.dev96+g04a0cf8bb</a>
	 &#187;
      </li>
      
      <li>Writing Documentation</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="writing-documentation">
<span id="documentation-guidelines"></span><h1>Writing Documentation<a class="headerlink" href="#writing-documentation" title="Permalink to this headline">¶</a></h1>
<p>High-quality, consistent documentation for astronomy code is one of the major
goals of the Astropy Project.  Hence, we describe our documentation procedures
and rules here.  For the astropy core project and coordinated packages we try to
keep to these as closely as possible, and we encourage affiliated packages to
also adhere to these as they encourage useful documentation, a characteristic
often lacking in professional astronomy software.</p>
<div class="section" id="adding-a-git-commit">
<h2>Adding a Git Commit<a class="headerlink" href="#adding-a-git-commit" title="Permalink to this headline">¶</a></h2>
<p>When your changes only affect documentation (i.e., docstring or RST files)
and do not include any code snippets that require doctest to run, you may
add a <code class="docutils literal notranslate"><span class="pre">[ci</span> <span class="pre">skip]</span></code> in your commit message. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Update documentation about this and that [ci skip]&quot;</span>
</pre></div>
</div>
<p>When this commit is pushed out to your branch associated with a pull request,
all CI will be skipped because it is not required. This is because the
the documentation build resides in RTD, which currently does not respect the
<code class="docutils literal notranslate"><span class="pre">[ci</span> <span class="pre">skip]</span></code> directive.</p>
</div>
<div class="section" id="building-the-documentation-from-source">
<h2>Building the Documentation from source<a class="headerlink" href="#building-the-documentation-from-source" title="Permalink to this headline">¶</a></h2>
<p>For information about building the documentation from source, see
the <a class="reference internal" href="../install.html#builddocs"><span class="std std-ref">Building Documentation</span></a> section in the installation instructions.</p>
</div>
<div class="section" id="astropy-documentation-rules-and-guidelines">
<h2>Astropy Documentation Rules and Guidelines<a class="headerlink" href="#astropy-documentation-rules-and-guidelines" title="Permalink to this headline">¶</a></h2>
<p>This section describes the standards for documentation that any contribution
being considered for integration into the core package should follow, as well as
the standard Astropy docstring format.</p>
<ul class="simple">
<li><p>All documentation text should follow the <a class="reference internal" href="style-guide.html#astropy-style-guide"><span class="std std-ref">Astropy Narrative Style Guide: A Writing Resource for Contributors</span></a>.</p></li>
<li><p>All documentation should be written using the <a class="reference external" href="http://www.sphinx-doc.org/">Sphinx</a>
documentation tool.</p></li>
<li><p>ReST substitutions are centralized in <code class="docutils literal notranslate"><span class="pre">docs/conf.py::rst_epilog</span></code> for
consistency across the documentation and docstrings. These should be used over
custom redefinitions; and new substitutions should probably be placed there.</p></li>
<li><p>The <a class="reference external" href="https://github.com/astropy/package-template">package template</a> provides
a recommended general structure for documentation.</p></li>
<li><p>Docstrings must be provided for all public classes, methods, and functions.</p></li>
<li><p>Docstrings should follow the <a class="reference external" href="https://numpydoc.readthedocs.io/en/latest/format.html">numpydoc format</a>.</p></li>
<li><p>References in docstrings, <strong>including internal Astropy links</strong>, should use the
<a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/extensions/intersphinx.html">intersphinx format</a>.
For example a link to the Astropy section on unit equivalencies would be
`` <a class="reference internal" href="../units/equivalencies.html#unit-equivalencies"><span class="std std-ref">Equivalencies</span></a> <code class="docutils literal notranslate"><span class="pre">.</span>
<span class="pre">When</span> <span class="pre">built</span> <span class="pre">in</span> <span class="pre">Astropy,</span> <span class="pre">links</span> <span class="pre">starting</span> <span class="pre">with</span> <span class="pre">'astropy'</span> <span class="pre">resolve</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">current</span>
<span class="pre">build.</span> <span class="pre">In</span> <span class="pre">affiliate</span> <span class="pre">packages</span> <span class="pre">using</span> <span class="pre">``sphinx-astropy</span></code>’s intersphinx mapping,
the links resolve to the stable version of Astropy. For linking to the
development version, use the intersphinx target ‘astropy-dev’.</p></li>
<li><p>Examples and/or tutorials are strongly encouraged for typical use-cases of a
particular module or class.</p></li>
<li><p>Any external package dependencies must be explicitly mentioned in the
documentation. They should also be recorded in the <code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code> file in the
root of the astropy repository using an entry in <code class="docutils literal notranslate"><span class="pre">extras_require</span></code>,
under <code class="docutils literal notranslate"><span class="pre">all</span></code>.</p></li>
<li><p>Configuration options using the <a class="reference internal" href="../config/index.html#module-astropy.config" title="astropy.config"><code class="xref py py-mod docutils literal notranslate"><span class="pre">astropy.config</span></code></a> mechanisms must be
explicitly mentioned in the documentation.</p></li>
</ul>
</div>
<div class="section" id="sphinx-documentation-themes">
<h2>Sphinx Documentation Themes<a class="headerlink" href="#sphinx-documentation-themes" title="Permalink to this headline">¶</a></h2>
<p>An Astropy Project Sphinx HTML theme is included in the <a class="reference external" href="https://github.com/astropy/astropy-sphinx-theme">astropy-sphinx-theme</a>
package. This allows the theme to be used by both Astropy and affiliated
packages. The theme is activated by setting the theme in the global Astropy
sphinx configuration in <a class="reference external" href="https://github.com/astropy/sphinx-astropy">sphinx-astropy</a>, which is imported in the sphinx
configuration of both Astropy and affiliated packages.</p>
<p>A different theme can be used by overriding a few sphinx
configuration variables set in the global configuration.</p>
<ul class="simple">
<li><p>To use a different theme, set <code class="docutils literal notranslate"><span class="pre">html_theme</span></code> to the name of a desired
builtin Sphinx theme or a custom theme in <code class="docutils literal notranslate"><span class="pre">package-name/docs/conf.py</span></code>
(where <code class="docutils literal notranslate"><span class="pre">'package-name'</span></code> is “astropy” or the name of the affiliated
package).</p></li>
<li><p>To use a custom theme, additionally: place the theme in
<code class="docutils literal notranslate"><span class="pre">package-name/docs/_themes</span></code> and add <code class="docutils literal notranslate"><span class="pre">'_themes'</span></code> to the
<code class="docutils literal notranslate"><span class="pre">html_theme_path</span></code> variable. See the <a class="reference external" href="http://www.sphinx-doc.org/">Sphinx</a> documentation for more
details on theming.</p></li>
</ul>
</div>
<div class="section" id="sphinx-extensions">
<h2>Sphinx extensions<a class="headerlink" href="#sphinx-extensions" title="Permalink to this headline">¶</a></h2>
<p>The documentation build process for Astropy uses a number of sphinx extensions
which are all installed automatically when installing <a class="reference external" href="https://github.com/astropy/sphinx-astropy">sphinx-astropy</a>. These
facilitate easily documenting code in a homogeneous and readable way.</p>
<p>The main extensions used are:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/astropy/sphinx-automodapi">sphinx-automodapi</a> - an extension that makes it easy to automatically
generate API documentation.</p></li>
<li><p><a class="reference external" href="https://sphinx-gallery.readthedocs.io">sphinx-gallery</a> - an extension to generate example galleries</p></li>
<li><p><a class="reference external" href="https://pypi.org/project/numpydoc/">numpydoc</a> - an extension to parse docstrings in NumpyDoc format</p></li>
</ul>
<p>In addition, the <a class="reference external" href="https://github.com/astropy/sphinx-astropy">sphinx-astropy</a> includes a few small extensions:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sphinx_astropy.ext.edit_on_github</span></code> - an extension to add ‘Edit on GitHub’
links to documentation pages.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sphinx_astropy.ext.changelog_links</span></code> - an extension to add links to
pull requests when rendering the changelog.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sphinx_astropy.ext.doctest</span></code> - an extension that makes it possible to
add metadata about doctests inside <code class="docutils literal notranslate"><span class="pre">.rst</span></code> files</p></li>
</ul>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">Writing Documentation</a><ul>
<li><a class="reference internal" href="#adding-a-git-commit">Adding a Git Commit</a></li>
<li><a class="reference internal" href="#building-the-documentation-from-source">Building the Documentation from source</a></li>
<li><a class="reference internal" href="#astropy-documentation-rules-and-guidelines">Astropy Documentation Rules and Guidelines</a></li>
<li><a class="reference internal" href="#sphinx-documentation-themes">Sphinx Documentation Themes</a></li>
<li><a class="reference internal" href="#sphinx-extensions">Sphinx extensions</a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/development/docguide.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2011–2022, The Astropy Developers.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 3.5.4. &nbsp;
    Last built 09 May 2022. <br/>
  </p>
</footer>
  </body>
</html>