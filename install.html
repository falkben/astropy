


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Installation &#8212; Astropy v5.2.dev94+gb1133d712.d20220509</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-rendered-html.css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <script type="text/javascript" src="_static/copybutton.js"></script>
    <link rel="shortcut icon" href="_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="What’s New in Astropy 5.2?" href="whatsnew/5.2.html" />
    <link rel="prev" title="Astropy Documentation" href="index.html" />
  
  <meta name="robots" content="noindex, nofollow">
  
  
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>


  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="index.html"><span id="logotext1">astro</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="genindex.html">Index</a></li>
    <li><a title="Module Index" href="py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="whatsnew/5.2.html" title="What’s New in Astropy 5.2?">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="index.html" title="Astropy Documentation">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="index.html">Astropy v5.2.dev94+gb1133d712.d20220509</a>
	 &#187;
      </li>
      
      <li>Installation</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installing-astropy">
<span id="id1"></span><h2>Installing <code class="docutils literal notranslate"><span class="pre">astropy</span></code><a class="headerlink" href="#installing-astropy" title="Permalink to this headline">¶</a></h2>
<p>If you are new to Python and/or do not have familiarity with <a class="reference external" href="https://docs.python.org/3/tutorial/venv.html">Python virtual
environments</a>, then we recommend
starting by installing the <a class="reference external" href="https://www.anaconda.com/distribution/">Anaconda Distribution</a>. This works on all platforms (linux,
Mac, Windows) and installs a full-featured scientific Python in a user directory
without requiring root permissions.</p>
<div class="section" id="using-pip">
<h3>Using pip<a class="headerlink" href="#using-pip" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Users of the Anaconda Python distribution should follow the instructions
for <a class="reference internal" href="#anaconda-install"><span class="std std-ref">Using Conda</span></a>.</p>
</div>
<p>To install <code class="docutils literal notranslate"><span class="pre">astropy</span></code> with <a class="reference external" href="https://pip.pypa.io">pip</a>, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">astropy</span>
</pre></div>
</div>
<p>If you want to make sure none of your existing dependencies get upgraded, you
can also do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">astropy</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">deps</span>
</pre></div>
</div>
<p>On the other hand, if you want to install <code class="docutils literal notranslate"><span class="pre">astropy</span></code> along with recommended
or even all of the available optional <a class="reference internal" href="#astropy-main-req"><span class="std std-ref">dependencies</span></a>,
you can do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">astropy</span><span class="p">[</span><span class="n">recommended</span><span class="p">]</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">astropy</span><span class="p">[</span><span class="nb">all</span><span class="p">]</span>
</pre></div>
</div>
<p>In most cases, this will install a pre-compiled version (called a <em>wheel</em>) of
astropy, but if you are using a very recent version of Python, if a new version
of astropy has just been released, or if you are building astropy for a platform
that is not common, astropy will be installed from a source file. Note that in
this case you will need a C compiler (e.g., <code class="docutils literal notranslate"><span class="pre">gcc</span></code> or <code class="docutils literal notranslate"><span class="pre">clang</span></code>) to be installed
(see <a class="reference internal" href="#building-from-source">Building from source</a> below) for the installation to succeed.</p>
<p>If you get a <code class="docutils literal notranslate"><span class="pre">PermissionError</span></code> this means that you do not have the required
administrative access to install new packages to your Python installation. In
this case you may consider using the <code class="docutils literal notranslate"><span class="pre">--user</span></code> option to install the package
into your home directory. You can read more about how to do this in the <a class="reference external" href="https://pip.pypa.io/en/stable/user_guide/#user-installs">pip
documentation</a>.</p>
<p>Alternatively, if you intend to do development on other software that uses
<code class="docutils literal notranslate"><span class="pre">astropy</span></code>, such as an affiliated package, consider installing <code class="docutils literal notranslate"><span class="pre">astropy</span></code>
into a <a class="reference internal" href="development/workflow/virtual_pythons.html#virtual-envs"><span class="std std-ref">virtualenv</span></a>.</p>
<p>Do <strong>not</strong> install <code class="docutils literal notranslate"><span class="pre">astropy</span></code> or other third-party packages using <code class="docutils literal notranslate"><span class="pre">sudo</span></code>
unless you are fully aware of the risks.</p>
</div>
<div class="section" id="using-conda">
<span id="anaconda-install"></span><h3>Using Conda<a class="headerlink" href="#using-conda" title="Permalink to this headline">¶</a></h3>
<p>To install <code class="docutils literal notranslate"><span class="pre">astropy</span></code> using conda run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="n">astropy</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">astropy</span></code> is installed by default with the <a class="reference external" href="https://www.anaconda.com/distribution/">Anaconda Distribution</a>. To update to the latest version run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">update</span> <span class="n">astropy</span>
</pre></div>
</div>
<p>There may be a delay of a day or two between when a new version of <code class="docutils literal notranslate"><span class="pre">astropy</span></code>
is released and when a package is available for conda. You can check
for the list of available versions with <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">search</span> <span class="pre">astropy</span></code>.</p>
<p>If you want to install <code class="docutils literal notranslate"><span class="pre">astropy</span></code> along with recommended or all of the
available optional <a class="reference internal" href="#astropy-main-req"><span class="std std-ref">dependencies</span></a>, you can do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="o">-</span><span class="n">c</span> <span class="n">defaults</span> <span class="n">scipy</span> <span class="n">matplotlib</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="o">-</span><span class="n">c</span> <span class="n">defaults</span> <span class="n">scipy</span> <span class="n">matplotlib</span> \
  <span class="n">h5py</span> <span class="n">beautifulsoup4</span> <span class="n">html5lib</span> <span class="n">bleach</span> <span class="n">pandas</span> <span class="n">sortedcontainers</span> \
  <span class="n">pytz</span> <span class="n">setuptools</span> <span class="n">mpmath</span> <span class="n">bottleneck</span> <span class="n">jplephem</span> <span class="n">asdf</span> <span class="n">pyarrow</span>
</pre></div>
</div>
<p>To also be able to run tests (see below) and support <a class="reference internal" href="#builddocs"><span class="std std-ref">Building Documentation</span></a> use the
following. We use <code class="docutils literal notranslate"><span class="pre">pip</span></code> for these packages to ensure getting the latest
releases which are compatible with the latest <code class="docutils literal notranslate"><span class="pre">pytest</span></code> and <code class="docutils literal notranslate"><span class="pre">sphinx</span></code> releases:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">pytest</span><span class="o">-</span><span class="n">astropy</span> <span class="n">sphinx</span><span class="o">-</span><span class="n">astropy</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Attempting to use <a class="reference external" href="https://pip.pypa.io">pip</a> to upgrade your installation
of <code class="docutils literal notranslate"><span class="pre">astropy</span></code> itself may result in a corrupted installation.</p>
</div>
</div>
<div class="section" id="testing-an-installed-astropy">
<span id="testing-installed-astropy"></span><h3>Testing an Installed <code class="docutils literal notranslate"><span class="pre">astropy</span></code><a class="headerlink" href="#testing-an-installed-astropy" title="Permalink to this headline">¶</a></h3>
<p>The easiest way to test if your installed version of <code class="docutils literal notranslate"><span class="pre">astropy</span></code> is running
correctly is to use the <a class="reference internal" href="development/testguide.html#astropy-test"><span class="std std-ref">astropy.test()</span></a> function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">astropy</span>
<span class="n">astropy</span><span class="o">.</span><span class="n">test</span><span class="p">()</span>
</pre></div>
</div>
<p>The tests should run and print out any failures, which you can report at
the <a class="reference external" href="https://github.com/astropy/astropy/issues">Astropy issue tracker</a>.</p>
<p>This way of running the tests may not work if you do it in the <code class="docutils literal notranslate"><span class="pre">astropy</span></code> source
distribution. See <a class="reference internal" href="#sourcebuildtest"><span class="std std-ref">Testing a Source Code Build of astropy</span></a> for how to run the tests from the
source code directory, or <a class="reference internal" href="development/testguide.html#running-tests"><span class="std std-ref">Running Tests</span></a> for more details.</p>
</div>
</div>
<div class="section" id="requirements">
<span id="astropy-main-req"></span><h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">astropy</span></code> has the following strict requirements:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.python.org/">Python</a> 3.8 or later</p></li>
<li><p><a class="reference external" href="https://numpy.org/">Numpy</a> &gt;=1.18 or later</p></li>
<li><p><a class="reference external" href="http://pyerfa.readthedocs.org/">PyERFA</a> &gt;=2.0 or later</p></li>
<li><p><a class="reference external" href="https://pyyaml.org">PyYAML</a> &gt;=3.13 or later</p></li>
<li><p><a class="reference external" href="https://packaging.pypa.io/">packaging</a> &gt;=19.0 or later</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">astropy</span></code> also depends on a number of other packages for optional features.
The following are particularly recommended:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.scipy.org/">scipy</a> &gt;=1.3 or later: To power a variety of features
in several modules.</p></li>
<li><p><a class="reference external" href="https://matplotlib.org/">matplotlib</a> !=3.4.0,!=3.5.2,&gt;=3.1 or later: To provide plotting
functionality that <a class="reference internal" href="visualization/index.html#module-astropy.visualization" title="astropy.visualization"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.visualization</span></code></a> enhances.</p></li>
</ul>
<p>The further dependencies provide more specific features:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://www.h5py.org/">h5py</a>: To read/write
<a class="reference internal" href="api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> objects from/to HDF5 files.</p></li>
<li><p><a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/">BeautifulSoup</a>: To read
<a class="reference internal" href="api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.table.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> objects from HTML files.</p></li>
<li><p><a class="reference external" href="https://html5lib.readthedocs.io/en/stable/">html5lib</a>: To read
<a class="reference internal" href="api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.table.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> objects from HTML files using the
<a class="reference external" href="https://pandas.pydata.org/">pandas</a> reader.</p></li>
<li><p><a class="reference external" href="https://bleach.readthedocs.io/">bleach</a>: Used to sanitize text when
disabling HTML escaping in the <a class="reference internal" href="api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> HTML writer.</p></li>
<li><p><a class="reference external" href="http://www.xmlsoft.org/">xmllint</a>: To validate VOTABLE XML files.
This is a command line tool installed outside of Python.</p></li>
<li><p><a class="reference external" href="https://pandas.pydata.org/">pandas</a>: To convert
<a class="reference internal" href="api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> objects from/to pandas DataFrame objects.
Version 0.14 or higher is required to use the <a class="reference internal" href="io/unified.html#table-io-pandas"><span class="std std-ref">Pandas</span></a>
I/O functions to read/write <a class="reference internal" href="api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> objects.</p></li>
<li><p><a class="reference external" href="https://pypi.org/project/sortedcontainers/">sortedcontainers</a> for faster
<code class="docutils literal notranslate"><span class="pre">SCEngine</span></code> indexing engine with <code class="docutils literal notranslate"><span class="pre">Table</span></code>, although this may still be
slower in some cases than the default indexing engine.</p></li>
<li><p><a class="reference external" href="https://pythonhosted.org/pytz/">pytz</a>: To specify and convert between
timezones.</p></li>
<li><p><a class="reference external" href="https://pypi.org/project/jplephem/">jplephem</a>: To retrieve JPL
ephemeris of Solar System objects.</p></li>
<li><p><a class="reference external" href="https://setuptools.readthedocs.io">setuptools</a>: Used for discovery of
entry points which are used to insert fitters into <a class="reference internal" href="modeling/reference_api.html#module-astropy.modeling.fitting" title="astropy.modeling.fitting"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.modeling.fitting</span></code></a>.</p></li>
<li><p><a class="reference external" href="http://mpmath.org/">mpmath</a>: Used for the ‘kraft-burrows-nousek’
interval in <a class="reference internal" href="api/astropy.stats.poisson_conf_interval.html#astropy.stats.poisson_conf_interval" title="astropy.stats.poisson_conf_interval"><code class="xref py py-obj docutils literal notranslate"><span class="pre">poisson_conf_interval</span></code></a>.</p></li>
<li><p><a class="reference external" href="https://github.com/spacetelescope/asdf">asdf</a> &gt;=2.10.0 or later: Enables the
serialization of various Astropy classes into a portable, hierarchical,
human-readable representation.</p></li>
<li><p><a class="reference external" href="https://pypi.org/project/Bottleneck/">bottleneck</a>: Improves the performance
of sigma-clipping and other functionality that may require computing
statistics on arrays with NaN values.</p></li>
<li><p><a class="reference external" href="https://pypi.org/project/certifi/">certifi</a>: Useful when downloading
files from HTTPS or FTP+TLS sites in case Python is not able to locate
up-to-date root CA certificates on your system; this package is usually
already included in many Python installations (e.g., as a dependency of
the <code class="docutils literal notranslate"><span class="pre">requests</span></code> package).</p></li>
<li><p><a class="reference external" href="https://arrow.apache.org/docs/python/">pyarrow</a> &gt;=5.0.0 or later:
To read/write <a class="reference internal" href="api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> objects from/to Parquet files.</p></li>
</ul>
<p>However, note that these packages require installation only if those particular
features are needed. <code class="docutils literal notranslate"><span class="pre">astropy</span></code> will import even if these dependencies are not
installed.</p>
<p>The following packages can optionally be used when testing:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/astropy/pytest-astropy">pytest-astropy</a>: See <a class="reference internal" href="#sourcebuildtest"><span class="std std-ref">Testing a Source Code Build of astropy</span></a></p></li>
<li><p><a class="reference external" href="https://pypi.org/project/pytest-xdist/">pytest-xdist</a>: Used for
distributed testing.</p></li>
<li><p><a class="reference external" href="https://github.com/matplotlib/pytest-mpl">pytest-mpl</a>: Used for testing
with Matplotlib figures.</p></li>
<li><p><a class="reference external" href="https://mg.pov.lt/objgraph/">objgraph</a>: Used only in tests to test for reference leaks.</p></li>
<li><p><a class="reference external" href="http://ipython.org/">IPython</a> &gt;=4.2 or later:
Used for testing the notebook interface of <a class="reference internal" href="api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Table</span></code></a>.</p></li>
<li><p><a class="reference external" href="https://coverage.readthedocs.io/">coverage</a>: Used for code coverage
measurements.</p></li>
<li><p><a class="reference external" href="https://rhodesmill.org/skyfield/">skyfield</a>: Used for testing Solar System
coordinates.</p></li>
<li><p><a class="reference external" href="https://pypi.org/project/sgp4/">spgp4</a>: Used for testing satellite positions.</p></li>
<li><p><a class="reference external" href="https://tox.readthedocs.io/en/latest/">tox</a>: Used to automate testing
and documentation builds.</p></li>
</ul>
</div>
<div class="section" id="building-from-source">
<h2>Building from Source<a class="headerlink" href="#building-from-source" title="Permalink to this headline">¶</a></h2>
<div class="section" id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h3>
<p>You will need a compiler suite and the development headers for Python in order
to build <code class="docutils literal notranslate"><span class="pre">astropy</span></code>. You do not need to install any other specific build
dependencies (such as <a class="reference external" href="https://cython.org/">Cython</a>) since these are
declared in the <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> file and will be automatically installed into
a temporary build environment by pip.</p>
</div>
<div class="section" id="prerequisites-for-linux">
<h3>Prerequisites for Linux<a class="headerlink" href="#prerequisites-for-linux" title="Permalink to this headline">¶</a></h3>
<p>On Linux, using the package manager for your distribution will usually be the
easiest route to making sure you have the prerequisites to build <code class="docutils literal notranslate"><span class="pre">astropy</span></code>. In
order to build from source, you will need the Python development
package for your Linux distribution, as well as pip.</p>
<p>For Debian/Ubuntu:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">python3</span><span class="o">-</span><span class="n">dev</span> <span class="n">python3</span><span class="o">-</span><span class="n">numpy</span><span class="o">-</span><span class="n">dev</span> <span class="n">python3</span><span class="o">-</span><span class="n">setuptools</span> <span class="n">cython3</span> <span class="n">python3</span><span class="o">-</span><span class="n">pytest</span><span class="o">-</span><span class="n">astropy</span>
</pre></div>
</div>
<p>For Fedora/RHEL:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">yum</span> <span class="n">install</span> <span class="n">python3</span><span class="o">-</span><span class="n">devel</span> <span class="n">python3</span><span class="o">-</span><span class="n">numpy</span> <span class="n">python3</span><span class="o">-</span><span class="n">setuptools</span> <span class="n">python3</span><span class="o">-</span><span class="n">Cython</span> <span class="n">python3</span><span class="o">-</span><span class="n">pytest</span><span class="o">-</span><span class="n">astropy</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Building the developer version of <code class="docutils literal notranslate"><span class="pre">astropy</span></code> may require
newer versions of the above packages than are available in
your distribution’s repository.  If so, you could either try
a more up-to-date distribution (such as Debian <code class="docutils literal notranslate"><span class="pre">testing</span></code>),
or install more up-to-date versions of the packages using
<code class="docutils literal notranslate"><span class="pre">pip</span></code> or <code class="docutils literal notranslate"><span class="pre">conda</span></code> in a virtual environment.</p>
</div>
</div>
<div class="section" id="prerequisites-for-mac-os-x">
<h3>Prerequisites for Mac OS X<a class="headerlink" href="#prerequisites-for-mac-os-x" title="Permalink to this headline">¶</a></h3>
<p>On MacOS X you will need the XCode command line tools which can be installed
using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xcode</span><span class="o">-</span><span class="n">select</span> <span class="o">--</span><span class="n">install</span>
</pre></div>
</div>
<p>Follow the onscreen instructions to install the command line tools required.
Note that you do <strong>not</strong> need to install the full XCode distribution (assuming
you are using MacOS X 10.9 or later).</p>
<p>The <a class="reference external" href="https://numpy.org/doc/stable/user/building.html">instructions for building NumPy from source</a> are a good
resource for setting up your environment to build Python packages.</p>
</div>
<div class="section" id="obtaining-the-source-packages">
<h3>Obtaining the Source Packages<a class="headerlink" href="#obtaining-the-source-packages" title="Permalink to this headline">¶</a></h3>
<div class="section" id="source-packages">
<h4>Source Packages<a class="headerlink" href="#source-packages" title="Permalink to this headline">¶</a></h4>
<p>The latest stable source package for <code class="docutils literal notranslate"><span class="pre">astropy</span></code> can be <a class="reference external" href="https://pypi.org/project/astropy">downloaded here</a>.</p>
</div>
<div class="section" id="development-repository">
<h4>Development Repository<a class="headerlink" href="#development-repository" title="Permalink to this headline">¶</a></h4>
<p>The latest development version of <code class="docutils literal notranslate"><span class="pre">astropy</span></code> can be cloned from GitHub
using this command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">astropy</span><span class="o">/</span><span class="n">astropy</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>If you wish to participate in the development of <code class="docutils literal notranslate"><span class="pre">astropy</span></code>, see the
<a class="reference internal" href="index.html#developer-docs"><span class="std std-ref">Developer Documentation</span></a>. The present document covers only the basics necessary to
installing <code class="docutils literal notranslate"><span class="pre">astropy</span></code>.</p>
</div>
</div>
<div class="section" id="building-and-installing">
<h3>Building and Installing<a class="headerlink" href="#building-and-installing" title="Permalink to this headline">¶</a></h3>
<p>To build and install <code class="docutils literal notranslate"><span class="pre">astropy</span></code> (from the root of the source tree):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">.</span>
</pre></div>
</div>
<p>If you install in this way and you make changes to the code, you will need to
re-run the install command for changes to be reflected. Alternatively, you can
use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
<p>which installs <code class="docutils literal notranslate"><span class="pre">astropy</span></code> in develop/editable mode – this then means that
changes in the code are immediately reflected in the installed version.</p>
</div>
<div class="section" id="troubleshooting">
<h3>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h3>
<p>If you get an error mentioning that you do not have the correct permissions to
install <code class="docutils literal notranslate"><span class="pre">astropy</span></code> into the default <code class="docutils literal notranslate"><span class="pre">site-packages</span></code> directory, you can try
installing with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">.</span> <span class="o">--</span><span class="n">user</span>
</pre></div>
</div>
<p>which will install into a default directory in your home directory.</p>
<div class="section" id="external-c-libraries">
<span id="id4"></span><h4>External C Libraries<a class="headerlink" href="#external-c-libraries" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">astropy</span></code> source ships with the C source code of a number of
libraries. By default, these internal copies are used to build
<code class="docutils literal notranslate"><span class="pre">astropy</span></code>. However, if you wish to use the system-wide installation of
one of those libraries, you can set environment variables with the
pattern <code class="docutils literal notranslate"><span class="pre">ASTROPY_USE_SYSTEM_???</span></code> to <code class="docutils literal notranslate"><span class="pre">1</span></code> when building/installing
the package.</p>
<p>For example, to build <code class="docutils literal notranslate"><span class="pre">astropy</span></code> using the system’s expat parser
library, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ASTROPY_USE_SYSTEM_EXPAT</span><span class="o">=</span><span class="mi">1</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
<p>To build using all of the system libraries, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ASTROPY_USE_SYSTEM_ALL</span><span class="o">=</span><span class="mi">1</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
<p>The C libraries currently bundled with <code class="docutils literal notranslate"><span class="pre">astropy</span></code> include:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.atnf.csiro.au/people/mcalabre/WCS/">wcslib</a> see
<code class="docutils literal notranslate"><span class="pre">cextern/wcslib/README</span></code> for the bundled version. To use the
system version, set <code class="docutils literal notranslate"><span class="pre">ASTROPY_USE_SYSTEM_WCSLIB=1</span></code>.</p></li>
<li><p><a class="reference external" href="https://heasarc.gsfc.nasa.gov/fitsio/fitsio.html">cfitsio</a> see
<code class="docutils literal notranslate"><span class="pre">cextern/cfitsio/changes.txt</span></code> for the bundled version. To use the
system version, set <code class="docutils literal notranslate"><span class="pre">ASTROPY_USE_SYSTEM_CFITSIO=1</span></code>.</p></li>
<li><p><a class="reference external" href="https://libexpat.github.io/">expat</a> see <code class="docutils literal notranslate"><span class="pre">cextern/expat/README</span></code> for the
bundled version. To use the system version, set <code class="docutils literal notranslate"><span class="pre">ASTROPY_USE_SYSTEM_EXPAT=1</span></code>.</p></li>
</ul>
</div>
</div>
<div class="section" id="installing-astropy-into-casa">
<h3>Installing <code class="docutils literal notranslate"><span class="pre">astropy</span></code> into CASA<a class="headerlink" href="#installing-astropy-into-casa" title="Permalink to this headline">¶</a></h3>
<p>If you want to be able to use <code class="docutils literal notranslate"><span class="pre">astropy</span></code> inside <a class="reference external" href="https://casa.nrao.edu/">CASA</a>, the easiest way is to do so from inside CASA.</p>
<p>First, we need to make sure <a class="reference external" href="https://pip.pypa.io">pip</a> is
installed. Start up CASA as normal, and then type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CASA</span> <span class="o">&lt;</span><span class="mi">2</span><span class="o">&gt;</span><span class="p">:</span> <span class="kn">from</span> <span class="nn">setuptools.command</span> <span class="kn">import</span> <span class="n">easy_install</span>

<span class="n">CASA</span> <span class="o">&lt;</span><span class="mi">3</span><span class="o">&gt;</span><span class="p">:</span> <span class="n">easy_install</span><span class="o">.</span><span class="n">main</span><span class="p">([</span><span class="s1">&#39;--user&#39;</span><span class="p">,</span> <span class="s1">&#39;pip&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Now, quit CASA and re-open it, then type the following to install <code class="docutils literal notranslate"><span class="pre">astropy</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CASA</span> <span class="o">&lt;</span><span class="mi">2</span><span class="o">&gt;</span><span class="p">:</span> <span class="kn">import</span> <span class="nn">subprocess</span><span class="o">,</span> <span class="nn">sys</span>

<span class="n">CASA</span> <span class="o">&lt;</span><span class="mi">3</span><span class="o">&gt;</span><span class="p">:</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">check_call</span><span class="p">([</span><span class="n">sys</span><span class="o">.</span><span class="n">executable</span><span class="p">,</span> <span class="s1">&#39;-m&#39;</span><span class="p">,</span> <span class="s1">&#39;pip&#39;</span><span class="p">,</span> <span class="s1">&#39;install&#39;</span><span class="p">,</span> <span class="s1">&#39;--user&#39;</span><span class="p">,</span> <span class="s1">&#39;astropy&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Then close CASA again and open it, and you should be able to import <code class="docutils literal notranslate"><span class="pre">astropy</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CASA</span> <span class="o">&lt;</span><span class="mi">2</span><span class="o">&gt;</span><span class="p">:</span> <span class="kn">import</span> <span class="nn">astropy</span>
</pre></div>
</div>
<p>Any <code class="docutils literal notranslate"><span class="pre">astropy</span></code> affiliated package can be installed the same way (e.g. the
<a class="reference external" href="https://spectral-cube.readthedocs.io">spectral-cube</a> or other
packages that may be useful for radio astronomy).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The above instructions have not been tested on all systems.
We know of a few examples that do work, but that is not a guarantee
that this will work on all systems. If you install <code class="docutils literal notranslate"><span class="pre">astropy</span></code> and begin to
encounter issues with CASA, please look at the <a class="reference external" href="https://github.com/astropy/astropy/issues?q=+label%3ACASA-Installation+">known CASA issues</a>
and if you do not encounter your issue there, please post a new one.</p>
</div>
</div>
<div class="section" id="installing-pre-built-development-versions-of-astropy">
<h3>Installing pre-built Development Versions of <code class="docutils literal notranslate"><span class="pre">astropy</span></code><a class="headerlink" href="#installing-pre-built-development-versions-of-astropy" title="Permalink to this headline">¶</a></h3>
<p>Most nights a development snapshot of <code class="docutils literal notranslate"><span class="pre">astropy</span></code> will be compiled.
This is useful if you want to test against a development version of astropy but
do not want to have to build it yourselves. You can see the
<a class="reference external" href="https://dev.azure.com/astropy-project/astropy/_packaging?_a=package&amp;feed=nightly&amp;package=astropy&amp;protocolType=PyPI&amp;view=versions">available astropy dev snapshots page</a>
to find out what is currently being offered.</p>
<p>Installing these “nightlies” of <code class="docutils literal notranslate"><span class="pre">astropy</span></code> can be achieved by using <code class="docutils literal notranslate"><span class="pre">pip</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install --extra-index-url=https://pkgs.dev.azure.com/astropy-project/astropy/_packaging/nightly/pypi/simple/ --pre astropy
</pre></div>
</div>
<p>The extra index URL tells <code class="docutils literal notranslate"><span class="pre">pip</span></code> to check the <code class="docutils literal notranslate"><span class="pre">pip</span></code> index on Azure Pipelines, where the
nightlies are built, and the <code class="docutils literal notranslate"><span class="pre">--pre</span></code> command tells <code class="docutils literal notranslate"><span class="pre">pip</span></code> to install pre-release
versions (in this case <code class="docutils literal notranslate"><span class="pre">.dev</span></code> releases).</p>
</div>
<div class="section" id="building-documentation">
<span id="builddocs"></span><h3>Building Documentation<a class="headerlink" href="#building-documentation" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Building the documentation is in general not necessary unless you are
writing new documentation or do not have internet access, because
the latest (and archive) versions of Astropy’s documentation should
be available at <a class="reference external" href="https://docs.astropy.org">docs.astropy.org</a> .</p>
</div>
<div class="section" id="dependencies">
<h4>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h4>
<p>Building the documentation requires the <code class="docutils literal notranslate"><span class="pre">astropy</span></code> source code and some
additional packages. The easiest way to build the documentation is to use <a class="reference external" href="https://tox.readthedocs.io/en/latest/">tox</a> as detailed in
<a class="reference internal" href="#astropy-doc-building"><span class="std std-ref">Building</span></a>. If you are happy to do this, you can skip the rest
of this section.</p>
<p>On the other hand, if you wish to call Sphinx manually to build the
documentation, you will need to make sure that a number of dependencies are
installed. If you use conda, the easiest way to install the dependencies is
with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="n">sphinx</span><span class="o">-</span><span class="n">astropy</span>
</pre></div>
</div>
<p>Without conda, you install the dependencies by specifying <code class="docutils literal notranslate"><span class="pre">[docs]</span></code> when
installing <code class="docutils literal notranslate"><span class="pre">astropy</span></code> with pip:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="s1">&#39;.[docs]&#39;</span>
</pre></div>
</div>
<p>You can alternatively install the <a class="reference external" href="https://github.com/astropy/sphinx-astropy">sphinx-astropy</a> package with pip:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">sphinx</span><span class="o">-</span><span class="n">astropy</span>
</pre></div>
</div>
<p>In addition to providing configuration common to packages in the Astropy
ecosystem, this package also serves as a way to automatically get the main
dependencies, including:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://www.sphinx-doc.org">Sphinx</a> - the main package we use to build
the documentation</p></li>
<li><p><a class="reference external" href="https://github.com/astropy/astropy-sphinx-theme">astropy-sphinx-theme</a> -
the default ‘bootstrap’ theme used by <code class="docutils literal notranslate"><span class="pre">astropy</span></code> and a number of affiliated
packages</p></li>
<li><p><a class="reference external" href="https://sphinx-automodapi.readthedocs.io">sphinx-automodapi</a> - an extension
that makes it easy to automatically generate API documentation</p></li>
<li><p><a class="reference external" href="https://sphinx-gallery.readthedocs.io/en/latest/">sphinx-gallery</a> - an
extension to generate example galleries</p></li>
<li><p><a class="reference external" href="https://pypi.org/project/numpydoc/">numpydoc</a> - an extension to parse
docstrings in NumPyDoc format</p></li>
<li><p><a class="reference external" href="https://pillow.readthedocs.io">pillow</a> - used in one of the examples</p></li>
<li><p><a class="reference external" href="http://www.graphviz.org">Graphviz</a> - generate inheritance graphs (available
as a conda package or a system install but not in pip)</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Both of the <code class="docutils literal notranslate"><span class="pre">pip</span></code> install methods above do not include <a class="reference external" href="http://www.graphviz.org">Graphviz</a>.  If you do not install this package separately
then the documentation build process will produce a very large number of
lengthy warnings (which can obscure bona fide warnings) and also not
generate inheritance graphs.</p>
</div>
</div>
<div class="section" id="building">
<span id="astropy-doc-building"></span><h4>Building<a class="headerlink" href="#building" title="Permalink to this headline">¶</a></h4>
<p>There are two ways to build the Astropy documentation. The easiest way is to
execute the following tox command (from the <code class="docutils literal notranslate"><span class="pre">astropy</span></code> source directory):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tox</span> <span class="o">-</span><span class="n">e</span> <span class="n">build_docs</span>
</pre></div>
</div>
<p>If you do this, you do not need to install any of the documentation dependencies
as this will be done automatically. The documentation will be built in the
<code class="docutils literal notranslate"><span class="pre">docs/_build/html</span></code> directory, and can be read by pointing a web browser to
<code class="docutils literal notranslate"><span class="pre">docs/_build/html/index.html</span></code>.</p>
<p>Alternatively, you can do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">docs</span>
<span class="n">make</span> <span class="n">html</span>
</pre></div>
</div>
<p>And the documentation will be generated in the same location. Note that
this uses the installed version of astropy, so if you want to make sure
the current repository version is used, you will need to install it with
e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span><span class="p">[</span><span class="n">docs</span><span class="p">]</span>
</pre></div>
</div>
<p>before changing to the <code class="docutils literal notranslate"><span class="pre">docs</span></code> directory.</p>
<p>In the second way, LaTeX documentation can be generated by using the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">latex</span>
</pre></div>
</div>
<p>The LaTeX file <code class="docutils literal notranslate"><span class="pre">Astropy.tex</span></code> will be created in the <code class="docutils literal notranslate"><span class="pre">docs/_build/latex</span></code>
directory, and can be compiled using <code class="docutils literal notranslate"><span class="pre">pdflatex</span></code>.</p>
</div>
<div class="section" id="reporting-issues-requesting-features">
<h4>Reporting Issues/Requesting Features<a class="headerlink" href="#reporting-issues-requesting-features" title="Permalink to this headline">¶</a></h4>
<p>As mentioned above, building the documentation depends on a number of Sphinx
extensions and other packages. Since it is not always possible to know which
package is causing issues or would need to have a new feature implemented, you
can open an issue in the <a class="reference external" href="https://github.com/astropy/astropy/issues">core astropy package issue
tracker</a>. However, if you wish, you
can also open issues in the repositories for some of the dependencies:</p>
<ul class="simple">
<li><p>For requests/issues related to the appearance of the docs (e.g. related to
the CSS), you can open an issue in the <a class="reference external" href="https://github.com/astropy/astropy-sphinx-theme/issues">astropy-sphinx-theme issue tracker</a>.</p></li>
<li><p>For requests/issues related to the auto-generated API docs which appear to
be general issues rather than an issue with a specific docstring, you can use
the <a class="reference external" href="https://github.com/astropy/sphinx-automodapi/issues">sphinx-automodapi issue tracker</a>.</p></li>
<li><p>For issues related to the default configuration (e.g which extensions are
enabled by default), you can use the <a class="reference external" href="https://github.com/astropy/sphinx-astropy/issues">sphinx-astropy issue tracker</a>.</p></li>
</ul>
</div>
</div>
<div class="section" id="testing-a-source-code-build-of-astropy">
<span id="sourcebuildtest"></span><h3>Testing a Source Code Build of <code class="docutils literal notranslate"><span class="pre">astropy</span></code><a class="headerlink" href="#testing-a-source-code-build-of-astropy" title="Permalink to this headline">¶</a></h3>
<p>The easiest way to run the tests in a source checkout of <code class="docutils literal notranslate"><span class="pre">astropy</span></code>
is to use <a class="reference external" href="https://tox.readthedocs.io/en/latest/">tox</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tox</span> <span class="o">-</span><span class="n">e</span> <span class="n">test</span><span class="o">-</span><span class="n">alldeps</span>
</pre></div>
</div>
<p>There are also alternative methods of <a class="reference internal" href="development/testguide.html#running-tests"><span class="std std-ref">Running Tests</span></a> if you
would like more control over the testing process.</p>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">Installation</a><ul>
<li><a class="reference internal" href="#installing-astropy">Installing <code class="docutils literal notranslate"><span class="pre">astropy</span></code></a><ul>
<li><a class="reference internal" href="#using-pip">Using pip</a></li>
<li><a class="reference internal" href="#using-conda">Using Conda</a></li>
<li><a class="reference internal" href="#testing-an-installed-astropy">Testing an Installed <code class="docutils literal notranslate"><span class="pre">astropy</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#requirements">Requirements</a></li>
<li><a class="reference internal" href="#building-from-source">Building from Source</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#prerequisites-for-linux">Prerequisites for Linux</a></li>
<li><a class="reference internal" href="#prerequisites-for-mac-os-x">Prerequisites for Mac OS X</a></li>
<li><a class="reference internal" href="#obtaining-the-source-packages">Obtaining the Source Packages</a><ul>
<li><a class="reference internal" href="#source-packages">Source Packages</a></li>
<li><a class="reference internal" href="#development-repository">Development Repository</a></li>
</ul>
</li>
<li><a class="reference internal" href="#building-and-installing">Building and Installing</a></li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a><ul>
<li><a class="reference internal" href="#external-c-libraries">External C Libraries</a></li>
</ul>
</li>
<li><a class="reference internal" href="#installing-astropy-into-casa">Installing <code class="docutils literal notranslate"><span class="pre">astropy</span></code> into CASA</a></li>
<li><a class="reference internal" href="#installing-pre-built-development-versions-of-astropy">Installing pre-built Development Versions of <code class="docutils literal notranslate"><span class="pre">astropy</span></code></a></li>
<li><a class="reference internal" href="#building-documentation">Building Documentation</a><ul>
<li><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li><a class="reference internal" href="#building">Building</a></li>
<li><a class="reference internal" href="#reporting-issues-requesting-features">Reporting Issues/Requesting Features</a></li>
</ul>
</li>
<li><a class="reference internal" href="#testing-a-source-code-build-of-astropy">Testing a Source Code Build of <code class="docutils literal notranslate"><span class="pre">astropy</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="_sources/install.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2011–2022, The Astropy Developers.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 3.5.4. &nbsp;
    Last built 08 May 2022. <br/>
  </p>
</footer>
  </body>
</html>